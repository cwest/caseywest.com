<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en">
<title type="text">The consensus-seeking architect.</title>
<generator uri="https://github.com/mojombo/jekyll">Jekyll</generator>
<link rel="self" type="application/atom+xml" href="http://caseywest.com/feed.xml" />
<link rel="alternate" type="text/html" href="http://caseywest.com" />
<updated>2015-04-05T16:22:43-04:00</updated>
<id>http://caseywest.com/</id>
<author>
  <name>Casey West</name>
  <uri>http://caseywest.com/</uri>
  <email></email>
</author>


<entry>
  <title type="html"><![CDATA[Work with us at WhiteHat]]></title>
 <link rel="alternate" type="text/html" href="http://caseywest.com/work-with-us-at-whitehat/" />
  <id>http://caseywest.com/work-with-us-at-whitehat</id>
  <updated>2015-01-23 12:09:15 -0500T00:00:00-00:00</updated>
  <published>2015-01-23T00:00:00-05:00</published>
  
  <author>
    <name>Casey West</name>
    <uri>http://caseywest.com</uri>
    <email></email>
  </author>
  <content type="html">&lt;p&gt;I work for &lt;a href=&quot;https://whitehatsec.com&quot;&gt;WhiteHat Security&lt;/a&gt; and I lead a team called &lt;a href=&quot;http://lotr.wikia.com/wiki/Shire&quot;&gt;The Shire&lt;/a&gt;. Our team primarily builds web applications in &lt;a href=&quot;https://www.ruby-lang.org/en/&quot;&gt;Ruby&lt;/a&gt; on &lt;a href=&quot;http://rubyonrails.org/&quot;&gt;Rails&lt;/a&gt; and we&#39;re based in &lt;a href=&quot;https://www.walkscore.com/score/liberty-ave-and-smithfield-st-pittsburgh-pa-15222&quot;&gt;downtown Pittsburgh&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;We&#39;re hiring a couple more developers to join our outstanding team. I&#39;m fortunate enough to work with some of the best people in Pittsburgh. Bright, curious, hilarious, and they&#39;re good hackers&lt;sup id=&quot;fnref:hackers&quot;&gt;&lt;a href=&quot;#fn:hackers&quot; class=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;, too! We&#39;re interested in talking to programmers of all levels. Don&#39;t shy away if you are interested but have limited experience. We want to hire great people who put in the effort, and &lt;em&gt;you&lt;/em&gt; are hard enough to find as it is.&lt;/p&gt;

&lt;p&gt;It&#39;s difficult to write a &lt;em&gt;&quot;please come work with me&quot;&lt;/em&gt; essay so here&#39;s my plan: I&#39;m going to tell you about our team culture, then about what we&#39;re looking for in a candidate. The method I&#39;m using is to post our internal team culture document verbatim, and our internal job position document. They&#39;re both on our team wiki, and editable by anyone on the team.&lt;/p&gt;

&lt;p&gt;If you read all this and you&#39;d like to work with us please email me to talk about it. You can reach me at work with the following obfuscated email address:&lt;/p&gt;

&lt;div class=&quot;highlighter-coderay&quot;&gt;&lt;table class=&quot;CodeRay&quot;&gt;&lt;tr&gt;
  &lt;td class=&quot;line-numbers&quot;&gt;&lt;pre&gt;&lt;a href=&quot;#n1&quot; name=&quot;n1&quot;&gt;1&lt;/a&gt;
&lt;a href=&quot;#n2&quot; name=&quot;n2&quot;&gt;2&lt;/a&gt;
&lt;a href=&quot;#n3&quot; name=&quot;n3&quot;&gt;3&lt;/a&gt;
&lt;a href=&quot;#n4&quot; name=&quot;n4&quot;&gt;4&lt;/a&gt;
&lt;a href=&quot;#n5&quot; name=&quot;n5&quot;&gt;5&lt;/a&gt;
&lt;a href=&quot;#n6&quot; name=&quot;n6&quot;&gt;6&lt;/a&gt;
&lt;a href=&quot;#n7&quot; name=&quot;n7&quot;&gt;7&lt;/a&gt;
&lt;a href=&quot;#n8&quot; name=&quot;n8&quot;&gt;8&lt;/a&gt;
&lt;a href=&quot;#n9&quot; name=&quot;n9&quot;&gt;9&lt;/a&gt;
&lt;strong&gt;&lt;a href=&quot;#n10&quot; name=&quot;n10&quot;&gt;10&lt;/a&gt;&lt;/strong&gt;
&lt;a href=&quot;#n11&quot; name=&quot;n11&quot;&gt;11&lt;/a&gt;
&lt;/pre&gt;&lt;/td&gt;
  &lt;td class=&quot;code&quot;&gt;&lt;pre&gt;name    = &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;%w(&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;Casey West&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;)&lt;/span&gt;&lt;/span&gt;
company = &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;%q(&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;WhiteHat Security&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;)&lt;/span&gt;&lt;/span&gt;
email   = [
  name.join(&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;),
  [
    company.tr(&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt; &lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;)[&lt;span class=&quot;integer&quot;&gt;0&lt;/span&gt;..&lt;span class=&quot;integer&quot;&gt;10&lt;/span&gt;], &lt;span class=&quot;comment&quot;&gt;# We go to 11. \o/&lt;/span&gt;
    &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;com&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;
  ].join(&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;)
].join(&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;).downcase

puts email
&lt;/pre&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;You can also find links to me on social media on the left if you&#39;d like to chat casually.&lt;/p&gt;

&lt;h1 id=&quot;shire-culture&quot;&gt;Shire Culture&lt;/h1&gt;

&lt;p&gt;The Shire operates under two guiding principles: &lt;strong&gt;trust&lt;/strong&gt; and &lt;strong&gt;transparency&lt;/strong&gt;. As a member of the team you are &lt;strong&gt;trusted to use the best ideas to do the most important work&lt;/strong&gt;. As a team we agree to be &lt;strong&gt;transparent in our work, our ideas, and our struggles&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;This means we are all accountable for the success of our work as a team. It doesn&#39;t matter what functional role you have, which skills you bring to the team when you start, or where you are located. If there&#39;s work that needs to be done we take responsibility for it, complete it, and ship it as a team.&lt;/p&gt;

&lt;p&gt;If we succeed in our goals it&#39;s because we did it together. If we fail it&#39;s because we all failed together. Thankfully, failure is not terminal. We learn from it, adapt, and do better going forward.&lt;/p&gt;

&lt;p&gt;This brings us to The Shire Motto: &lt;em&gt;If something is broken we fix it.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;We don&#39;t put a ticket on another team&#39;s queue and wait around or complain. We do all the work we can to fix whatever is broken. We accept external roadblocks only when we are physically or administratively blocked, and we try to avoid those blockers in the future, too.&lt;/p&gt;

&lt;p&gt;The Shire has adopted this attitude. Doing so has meant we&#39;ve accumulated a wealth of knowledge about much of the WhiteHat Architecture. Everything from the hardware we run on to the way we document our APIs.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;pullquote-right&quot; data-pullquote=&quot;We are not afraid of solving hard problems correctly, and we&amp;apos;re not afraid to spend the time getting things right.&quot;&gt;
We are not afraid of solving hard problems correctly, and we&#39;re not afraid to spend the time getting things right. We’re not afraid to make good change anywhere in the company with whatever the right tool for the job is: technology, knowledge, experience, culture, or even a good hearty laugh.
&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;With this understanding of our Shire culture it&#39;s clear to see what your role as a team member is: &lt;strong&gt;Get the job done. Do whatever it takes, and do it well.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;We work at WhiteHat to meet customer needs with positive business outcomes.&lt;/p&gt;

&lt;p&gt;Here are some things we don&#39;t work at WhiteHat to do:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Write beautiful code.&lt;/li&gt;
  &lt;li&gt;Test everything.&lt;/li&gt;
  &lt;li&gt;Make it pixel perfect.&lt;/li&gt;
  &lt;li&gt;Handle every edge case.&lt;/li&gt;
  &lt;li&gt;Document every process.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;em&gt;When we are doing well we get some of these for free, which is a wonderful thing,&lt;/em&gt; but they are not our primary objective.&lt;/p&gt;

&lt;p&gt;We don&#39;t work beyond our physical limits. Each team member should work to maintain their health and happiness, and the team should hold each other accountable for that. If someone is burning out we should encourage them to rest. Take care of yourself and each other.&lt;/p&gt;

&lt;p&gt;What does this mean for you, for each team member? Lets consider it by functional team, since we already understand we&#39;re all in this together, anyway.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Hackers&lt;/strong&gt;&lt;sup id=&quot;fnref:hackers:1&quot;&gt;&lt;a href=&quot;#fn:hackers&quot; class=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;

&lt;p&gt;You are the expert on the software we create. You know where it is, how it&#39;s organized, how it&#39;s tested, and how it&#39;s deployed. If a problem can be solved by writing some code you know how to do that and you will. If you don&#39;t know how—no problem—you will soon. You aren&#39;t afraid of a challenge. You&#39;re courageous!&lt;/p&gt;

&lt;p&gt;You know how to test what the team has created. You collaborate with other team members regularly to share knowledge and ideas, and to work together to find the best way to do the work because, after all, the team is all responsible for it.&lt;/p&gt;

&lt;p&gt;When you&#39;re concerned there&#39;s a problem you raise the issue openly, trust the team to respond, and get to work fixing it with the team.&lt;/p&gt;

&lt;p&gt;You help others always, especially lending support in areas of your expertise. You take care to teach others what you know so we all learn and grow.&lt;/p&gt;

&lt;p&gt;You know what to do next because you follow the team&#39;s progress. If ever you don&#39;t know you will soon because you&#39;ll ask. Nobody has to give you a detailed task list, though, because you&#39;re self motivated and will dig into the next unsolved problem.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Developers:&lt;/strong&gt; See &lt;strong&gt;Hackers&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Testers:&lt;/strong&gt; See &lt;strong&gt;Hackers&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Product Management and Design:&lt;/strong&gt; See &lt;strong&gt;Hackers&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Scrum Master:&lt;/strong&gt; See &lt;strong&gt;Hackers&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Interns:&lt;/strong&gt; See &lt;strong&gt;Hackers&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;These are the expectations the team has of every member. Regardless of your title or tenure this is your charge.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Everyone on The Shire is a hacker, so happy hacking!&lt;/strong&gt;&lt;/p&gt;

&lt;h1 id=&quot;shire-hacker-job-description&quot;&gt;Shire Hacker Job Description&lt;/h1&gt;

&lt;h2 id=&quot;about-us&quot;&gt;About Us&lt;/h2&gt;

&lt;p&gt;WhiteHat Security helps prevent website attacks by providing the most complete
Web security solution. We keep our customers safe in some of the most heavily
regulated and attacked industries out there.&lt;/p&gt;

&lt;p&gt;At WhiteHat we code and have fun. We&#39;re hacker culture&lt;sup id=&quot;fnref:hackers:2&quot;&gt;&lt;a href=&quot;#fn:hackers&quot; class=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;. We&#39;re focused on
delivering quality code every day and we do that by taking risks, staying
flexible, and moving fast. Our work is challenging and our team is passionate
about it. We&#39;re creative and dedicated.&lt;/p&gt;

&lt;h2 id=&quot;position-summary&quot;&gt;Position Summary&lt;/h2&gt;

&lt;p&gt;Do you want to be challenged by your job and overcome those challenges with
awesome people? If you do we want you on the team!&lt;/p&gt;

&lt;p&gt;We want full stack, modern web application developers: polyglots who use the
right tool for the job. As a team member you will work on products that run our
business. We need you to passionately champion great ideas, collaborate on a
distributed team, and exercise unencumbered intellectual curiosity so we can
ship fantastic software together.&lt;/p&gt;

&lt;h2 id=&quot;desired-skills-and-experience&quot;&gt;Desired Skills and Experience&lt;/h2&gt;

&lt;p&gt;A qualified candidate will:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Have experience writing applications that are secure and have to scale.&lt;/li&gt;
  &lt;li&gt;Have experience with responsible development practices: writing unit and functional tests as part of development; writing maintainable, well structured code thoughtfully.&lt;/li&gt;
  &lt;li&gt;Be comfortable working collaboratively with distributed teams.&lt;/li&gt;
  &lt;li&gt;Have some exposure to the full stack: *nix, devops, automated systems, application development, javascript, CSS, and HTML5.&lt;/li&gt;
  &lt;li&gt;Be fearless: you know how to find the answer and you&#39;re not afraid to take a risk and try things that might not work.&lt;/li&gt;
  &lt;li&gt;Be a scientist: collect data and make informed decisions whenever possible.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;An ideal candidate will also:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Love beautiful code: elegant code is often the result of elegant solutions.&lt;/li&gt;
  &lt;li&gt;Have extensive hands-on experience with web application frameworks such as Ruby on Rails, Django, or Express.&lt;/li&gt;
  &lt;li&gt;Contribute to open source projects and participate in technical communities.&lt;/li&gt;
  &lt;li&gt;Understand distributed architectures such as data sharding, service oriented architecture (SOA), and load balancing, and know when to use them.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;This position will likely be filled at our headquarters in Santa Clara, or our
downtown Pittsburgh office. Remote work may be an option for an exceptional
candidate with remote work experience outside the Bay Area or Pittsburgh. Please
apply if you are an exceptional candidate!&lt;/p&gt;

&lt;p&gt;Thank you for considering WhiteHat Security. When you apply please include your
GitHub user ID and tell us which open source project really excites you right
now, and why.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;WhiteHat Security is an equal employment opportunity company.&lt;/em&gt;&lt;/p&gt;

&lt;div class=&quot;footnotes&quot;&gt;
  &lt;ol&gt;
    &lt;li id=&quot;fn:hackers&quot;&gt;
      &lt;p&gt;&lt;em&gt;&quot;The act of engaging in activities (such as programming or other media) in a &lt;strong&gt;spirit of playfulness and exploration&lt;/strong&gt; is termed hacking. However the defining characteristic of a hacker is not the activities performed themselves (e.g. programming), but the manner in which it is done: &lt;strong&gt;Hacking entails some form of excellence, for example exploring the limits of what is possible, thereby doing something exciting and meaningful.&lt;/strong&gt;&quot;&lt;/em&gt; — &lt;a href=&quot;https://en.wikipedia.org/wiki/Hacker_(programmer_subculture)&quot;&gt;Hacker (programming subculture), Wikipedia&lt;/a&gt; &lt;a href=&quot;#fnref:hackers&quot; class=&quot;reversefootnote&quot;&gt;&amp;#8617;&lt;/a&gt; &lt;a href=&quot;#fnref:hackers:1&quot; class=&quot;reversefootnote&quot;&gt;&amp;#8617;&lt;sup&gt;2&lt;/sup&gt;&lt;/a&gt; &lt;a href=&quot;#fnref:hackers:2&quot; class=&quot;reversefootnote&quot;&gt;&amp;#8617;&lt;sup&gt;3&lt;/sup&gt;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;

  &lt;p&gt;&lt;a href=&quot;http://caseywest.com/work-with-us-at-whitehat/&quot;&gt;Work with us at WhiteHat&lt;/a&gt; was originally published by Casey West at &lt;a href=&quot;http://caseywest.com&quot;&gt;The consensus-seeking architect.&lt;/a&gt; on January 23, 2015.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[Responsibly Use Peek to Inspect Rails]]></title>
 <link rel="alternate" type="text/html" href="http://caseywest.com/responsibly-use-peek-to-inspect-rails/" />
  <id>http://caseywest.com/responsibly-use-peek-to-inspect-rails</id>
  <updated>2015-01-07 21:51:33 -0500T00:00:00-00:00</updated>
  <published>2015-01-07T00:00:00-05:00</published>
  
  <author>
    <name>Casey West</name>
    <uri>http://caseywest.com</uri>
    <email></email>
  </author>
  <content type="html">&lt;p&gt;I &lt;em&gt;love&lt;/em&gt; developing applications with the &lt;a href=&quot;https://github.com/peek/peek&quot;&gt;peek&lt;/a&gt; gem. It&#39;s designed for development or staging environments; there are a few tricks if you don&#39;t want it on production or test environments.&lt;/p&gt;

&lt;p&gt;This gem puts a little bar on your pages which gives you all sorts of helpful information about the request you just made.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://f.cloud.github.com/assets/79995/244991/03cee1fa-8a74-11e2-8e33-283cf1298a60.png&quot; alt=&quot;peek screenshot&quot; /&gt;&lt;/p&gt;

&lt;p&gt;As you can see there is information about the branch you&#39;re on, performance metrics, database queries, caches, shared memory, and job queues in there. Read the documentation for &lt;a href=&quot;https://github.com/peek/peek&quot;&gt;peek&lt;/a&gt; on GitHub and find the plugins that work best for you. They&#39;re excellent.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;pullquote-right&quot; data-pullquote=&quot;I definitely don&amp;apos;t want to install Peek on production&quot;&gt;
The trouble is I definitely don&#39;t want to install Peek on production, or in my test environments, and the &lt;a href=&quot;https://github.com/peek/peek/blob/master/README.md#usage&quot;&gt;peek usage&lt;/a&gt; instructions would, indeed, require me to do so for a few key reasons: initializers, routes, assets, and views. Using peek requires a few steps of setup in your application. Each of the areas I enumerated requires peek to be a loaded gem in the environment you&#39;re running on.
&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;My first attempt to work around this involved wrapping calls with a &lt;a href=&quot;http://ruby-doc.org/docs/keywords/1.9/Object.html#method-i-defined-3F&quot;&gt;&lt;code&gt;defined?&lt;/code&gt;&lt;/a&gt; test. For example, in &lt;code&gt;config/routes.rb&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;highlighter-coderay&quot;&gt;&lt;table class=&quot;CodeRay&quot;&gt;&lt;tr&gt;
  &lt;td class=&quot;line-numbers&quot;&gt;&lt;pre&gt;&lt;a href=&quot;#n1&quot; name=&quot;n1&quot;&gt;1&lt;/a&gt;
&lt;/pre&gt;&lt;/td&gt;
  &lt;td class=&quot;code&quot;&gt;&lt;pre&gt;mount &lt;span class=&quot;constant&quot;&gt;Peek&lt;/span&gt;::&lt;span class=&quot;constant&quot;&gt;Railtie&lt;/span&gt; =&amp;gt; &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/peek&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;defined?&lt;/span&gt;(&lt;span class=&quot;constant&quot;&gt;Peek&lt;/span&gt;)
&lt;/pre&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;To style and script peek bar you need some CSS and JavaScript assets as well, which are loaded through the asset pipeline. Problem is, if the gem isn&#39;t in your bundle those loads fail, and so does pre-compilation if you attempt it.&lt;/p&gt;

&lt;p&gt;Finally, your views should be checking the &lt;code&gt;peek_enabled?&lt;/code&gt; method, which is defined by peek in your &lt;code&gt;ApplicationController&lt;/code&gt; class. So, for example, when rendering the peek bar itself you should be doing this:&lt;/p&gt;

&lt;div class=&quot;highlighter-coderay&quot;&gt;&lt;table class=&quot;CodeRay&quot;&gt;&lt;tr&gt;
  &lt;td class=&quot;line-numbers&quot;&gt;&lt;pre&gt;&lt;a href=&quot;#n1&quot; name=&quot;n1&quot;&gt;1&lt;/a&gt;
&lt;a href=&quot;#n2&quot; name=&quot;n2&quot;&gt;2&lt;/a&gt;
&lt;/pre&gt;&lt;/td&gt;
  &lt;td class=&quot;code&quot;&gt;&lt;pre&gt;body
  = render &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;peek/bar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; peek_enabled?
&lt;/pre&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;Again, if peek isn&#39;t in your Bundle, such as in the production environment, this render will fail.&lt;/p&gt;

&lt;p&gt;I&#39;m not particularly enthusiastic about this situation, so here is my guide to using peek responsibly. There are enough moving parts I decided to use the Table of Contents.&lt;/p&gt;

&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#gemfile&quot;&gt;&lt;code&gt;Gemfile&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#peekbar-class&quot;&gt;&lt;code&gt;PeekBar&lt;/code&gt; Class&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#definition&quot;&gt;Definition&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#test&quot;&gt;Test&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#initialization&quot;&gt;Initialization&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#peekbarhelper-module&quot;&gt;&lt;code&gt;PeekBarHelper&lt;/code&gt; Module&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#definition-1&quot;&gt;Definition&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#test-1&quot;&gt;Test&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#peek-initialization&quot;&gt;&lt;code&gt;Peek&lt;/code&gt; Initialization&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#assets&quot;&gt;Assets&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#css-and-javascript-definition&quot;&gt;CSS and JavaScript Definition&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#initialization-1&quot;&gt;Initialization&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#default-assets-gotcha&quot;&gt;Default Assets Gotcha&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#view-configuration&quot;&gt;View Configuration&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#finally&quot;&gt;Finally&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;gemfile&quot;&gt;&lt;code&gt;Gemfile&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;Peek must be loaded into our environment. I&#39;m loading it into my &lt;code&gt;:development&lt;/code&gt; environment only, along with a list of Peek plugins I want to use.&lt;/p&gt;

&lt;div class=&quot;highlighter-coderay&quot;&gt;&lt;table class=&quot;CodeRay&quot;&gt;&lt;tr&gt;
  &lt;td class=&quot;line-numbers&quot;&gt;&lt;pre&gt;&lt;a href=&quot;#n1&quot; name=&quot;n1&quot;&gt;1&lt;/a&gt;
&lt;a href=&quot;#n2&quot; name=&quot;n2&quot;&gt;2&lt;/a&gt;
&lt;a href=&quot;#n3&quot; name=&quot;n3&quot;&gt;3&lt;/a&gt;
&lt;a href=&quot;#n4&quot; name=&quot;n4&quot;&gt;4&lt;/a&gt;
&lt;a href=&quot;#n5&quot; name=&quot;n5&quot;&gt;5&lt;/a&gt;
&lt;a href=&quot;#n6&quot; name=&quot;n6&quot;&gt;6&lt;/a&gt;
&lt;a href=&quot;#n7&quot; name=&quot;n7&quot;&gt;7&lt;/a&gt;
&lt;a href=&quot;#n8&quot; name=&quot;n8&quot;&gt;8&lt;/a&gt;
&lt;/pre&gt;&lt;/td&gt;
  &lt;td class=&quot;code&quot;&gt;&lt;pre&gt;group &lt;span class=&quot;symbol&quot;&gt;:development&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;
  &lt;span class=&quot;comment&quot;&gt;# Peek Bar&lt;/span&gt;
  gem &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;peek&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;
  gem &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;peek-git&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;
  gem &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;peek-gc&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;
  gem &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;peek-performance_bar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;
  gem &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;peek-pg&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;keyword&quot;&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;h2 id=&quot;peekbar-class&quot;&gt;&lt;code&gt;PeekBar&lt;/code&gt; Class&lt;/h2&gt;

&lt;p&gt;This class is meant to answer two questions:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;em&gt;Is &lt;code&gt;Peek&lt;/code&gt; available for use?&lt;/em&gt; This question is asked when we start and configure the application.&lt;/li&gt;
  &lt;li&gt;&lt;em&gt;Should peek be enabled for this request?&lt;/em&gt; This question is asked during requests. Specifically during view rendering for any view that incorporates peek, which is most likely a layout.&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;definition&quot;&gt;Definition&lt;/h3&gt;

&lt;p&gt;I put this class in &lt;code&gt;lib/peek_bar.rb&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;highlighter-coderay&quot;&gt;&lt;table class=&quot;CodeRay&quot;&gt;&lt;tr&gt;
  &lt;td class=&quot;line-numbers&quot;&gt;&lt;pre&gt;&lt;a href=&quot;#n1&quot; name=&quot;n1&quot;&gt;1&lt;/a&gt;
&lt;a href=&quot;#n2&quot; name=&quot;n2&quot;&gt;2&lt;/a&gt;
&lt;a href=&quot;#n3&quot; name=&quot;n3&quot;&gt;3&lt;/a&gt;
&lt;a href=&quot;#n4&quot; name=&quot;n4&quot;&gt;4&lt;/a&gt;
&lt;a href=&quot;#n5&quot; name=&quot;n5&quot;&gt;5&lt;/a&gt;
&lt;a href=&quot;#n6&quot; name=&quot;n6&quot;&gt;6&lt;/a&gt;
&lt;a href=&quot;#n7&quot; name=&quot;n7&quot;&gt;7&lt;/a&gt;
&lt;a href=&quot;#n8&quot; name=&quot;n8&quot;&gt;8&lt;/a&gt;
&lt;a href=&quot;#n9&quot; name=&quot;n9&quot;&gt;9&lt;/a&gt;
&lt;strong&gt;&lt;a href=&quot;#n10&quot; name=&quot;n10&quot;&gt;10&lt;/a&gt;&lt;/strong&gt;
&lt;a href=&quot;#n11&quot; name=&quot;n11&quot;&gt;11&lt;/a&gt;
&lt;a href=&quot;#n12&quot; name=&quot;n12&quot;&gt;12&lt;/a&gt;
&lt;/pre&gt;&lt;/td&gt;
  &lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;PeekBar&lt;/span&gt;
  &lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;predefined-constant&quot;&gt;self&lt;/span&gt;.&lt;span class=&quot;function&quot;&gt;available?&lt;/span&gt;
    !&lt;span class=&quot;keyword&quot;&gt;defined?&lt;/span&gt;(&lt;span class=&quot;constant&quot;&gt;Peek&lt;/span&gt;).nil?
  &lt;span class=&quot;keyword&quot;&gt;end&lt;/span&gt;

  &lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;predefined-constant&quot;&gt;self&lt;/span&gt;.&lt;span class=&quot;function&quot;&gt;enabled?&lt;/span&gt;(current_user)
    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;predefined-constant&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;unless&lt;/span&gt; available?

    &lt;span class=&quot;comment&quot;&gt;# The default test.&lt;/span&gt;
    &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;%w(&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;development staging&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;)&lt;/span&gt;&lt;/span&gt;.include? &lt;span class=&quot;constant&quot;&gt;Rails&lt;/span&gt;.env
  &lt;span class=&quot;keyword&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;keyword&quot;&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;Here you can see we&#39;ve encapsulated the &lt;code&gt;defined?&lt;/code&gt; test into &lt;code&gt;PeekBar.available?&lt;/code&gt;. We use it in &lt;code&gt;PeekBar.enabled?&lt;/code&gt; as the first test.&lt;/p&gt;

&lt;p&gt;If peek is available, and we&#39;re in development or the &lt;code&gt;current_user&lt;/code&gt; likes nerdy toys we enable peek.&lt;/p&gt;

&lt;h3 id=&quot;test&quot;&gt;Test&lt;/h3&gt;

&lt;p&gt;I use &lt;a href=&quot;https://relishapp.com/rspec/rspec-rails/docs&quot;&gt;rspec&lt;/a&gt; for testing, so my spec is in &lt;code&gt;spec/lib/peek_bar_spec.rb&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;highlighter-coderay&quot;&gt;&lt;table class=&quot;CodeRay&quot;&gt;&lt;tr&gt;
  &lt;td class=&quot;line-numbers&quot;&gt;&lt;pre&gt;&lt;a href=&quot;#n1&quot; name=&quot;n1&quot;&gt;1&lt;/a&gt;
&lt;a href=&quot;#n2&quot; name=&quot;n2&quot;&gt;2&lt;/a&gt;
&lt;a href=&quot;#n3&quot; name=&quot;n3&quot;&gt;3&lt;/a&gt;
&lt;a href=&quot;#n4&quot; name=&quot;n4&quot;&gt;4&lt;/a&gt;
&lt;a href=&quot;#n5&quot; name=&quot;n5&quot;&gt;5&lt;/a&gt;
&lt;a href=&quot;#n6&quot; name=&quot;n6&quot;&gt;6&lt;/a&gt;
&lt;a href=&quot;#n7&quot; name=&quot;n7&quot;&gt;7&lt;/a&gt;
&lt;a href=&quot;#n8&quot; name=&quot;n8&quot;&gt;8&lt;/a&gt;
&lt;a href=&quot;#n9&quot; name=&quot;n9&quot;&gt;9&lt;/a&gt;
&lt;strong&gt;&lt;a href=&quot;#n10&quot; name=&quot;n10&quot;&gt;10&lt;/a&gt;&lt;/strong&gt;
&lt;a href=&quot;#n11&quot; name=&quot;n11&quot;&gt;11&lt;/a&gt;
&lt;a href=&quot;#n12&quot; name=&quot;n12&quot;&gt;12&lt;/a&gt;
&lt;a href=&quot;#n13&quot; name=&quot;n13&quot;&gt;13&lt;/a&gt;
&lt;a href=&quot;#n14&quot; name=&quot;n14&quot;&gt;14&lt;/a&gt;
&lt;a href=&quot;#n15&quot; name=&quot;n15&quot;&gt;15&lt;/a&gt;
&lt;a href=&quot;#n16&quot; name=&quot;n16&quot;&gt;16&lt;/a&gt;
&lt;a href=&quot;#n17&quot; name=&quot;n17&quot;&gt;17&lt;/a&gt;
&lt;a href=&quot;#n18&quot; name=&quot;n18&quot;&gt;18&lt;/a&gt;
&lt;a href=&quot;#n19&quot; name=&quot;n19&quot;&gt;19&lt;/a&gt;
&lt;strong&gt;&lt;a href=&quot;#n20&quot; name=&quot;n20&quot;&gt;20&lt;/a&gt;&lt;/strong&gt;
&lt;a href=&quot;#n21&quot; name=&quot;n21&quot;&gt;21&lt;/a&gt;
&lt;a href=&quot;#n22&quot; name=&quot;n22&quot;&gt;22&lt;/a&gt;
&lt;a href=&quot;#n23&quot; name=&quot;n23&quot;&gt;23&lt;/a&gt;
&lt;a href=&quot;#n24&quot; name=&quot;n24&quot;&gt;24&lt;/a&gt;
&lt;a href=&quot;#n25&quot; name=&quot;n25&quot;&gt;25&lt;/a&gt;
&lt;a href=&quot;#n26&quot; name=&quot;n26&quot;&gt;26&lt;/a&gt;
&lt;a href=&quot;#n27&quot; name=&quot;n27&quot;&gt;27&lt;/a&gt;
&lt;a href=&quot;#n28&quot; name=&quot;n28&quot;&gt;28&lt;/a&gt;
&lt;a href=&quot;#n29&quot; name=&quot;n29&quot;&gt;29&lt;/a&gt;
&lt;strong&gt;&lt;a href=&quot;#n30&quot; name=&quot;n30&quot;&gt;30&lt;/a&gt;&lt;/strong&gt;
&lt;a href=&quot;#n31&quot; name=&quot;n31&quot;&gt;31&lt;/a&gt;
&lt;a href=&quot;#n32&quot; name=&quot;n32&quot;&gt;32&lt;/a&gt;
&lt;a href=&quot;#n33&quot; name=&quot;n33&quot;&gt;33&lt;/a&gt;
&lt;/pre&gt;&lt;/td&gt;
  &lt;td class=&quot;code&quot;&gt;&lt;pre&gt;require &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;rails_helper&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;constant&quot;&gt;RSpec&lt;/span&gt;.describe &lt;span class=&quot;constant&quot;&gt;PeekBar&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;
  subject { described_class }

  context &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;without Peek&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;
    before(&lt;span class=&quot;symbol&quot;&gt;:each&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;
      &lt;span class=&quot;constant&quot;&gt;Object&lt;/span&gt;.send(&lt;span class=&quot;symbol&quot;&gt;:remove_const&lt;/span&gt;, &lt;span class=&quot;symbol&quot;&gt;:Peek&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;defined?&lt;/span&gt;(&lt;span class=&quot;constant&quot;&gt;Peek&lt;/span&gt;)
    &lt;span class=&quot;keyword&quot;&gt;end&lt;/span&gt;

    it &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;isn&#39;t available&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;
      expect(subject.available?).to be(&lt;span class=&quot;predefined-constant&quot;&gt;false&lt;/span&gt;)
    &lt;span class=&quot;keyword&quot;&gt;end&lt;/span&gt;

    it &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;isn&#39;t enabled&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;
      expect(subject.enabled?(anything)).to be(&lt;span class=&quot;predefined-constant&quot;&gt;false&lt;/span&gt;)
    &lt;span class=&quot;keyword&quot;&gt;end&lt;/span&gt;
  &lt;span class=&quot;keyword&quot;&gt;end&lt;/span&gt;

  context &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;with Peek&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;
    before(&lt;span class=&quot;symbol&quot;&gt;:each&lt;/span&gt;) { &lt;span class=&quot;constant&quot;&gt;Peek&lt;/span&gt; = &lt;span class=&quot;constant&quot;&gt;Class&lt;/span&gt;.new }
    after(&lt;span class=&quot;symbol&quot;&gt;:each&lt;/span&gt;) { &lt;span class=&quot;constant&quot;&gt;Object&lt;/span&gt;.send(&lt;span class=&quot;symbol&quot;&gt;:remove_const&lt;/span&gt;, &lt;span class=&quot;symbol&quot;&gt;:Peek&lt;/span&gt;) }

    it &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;is available&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;
      expect(subject.available?).to be(&lt;span class=&quot;predefined-constant&quot;&gt;true&lt;/span&gt;)
    &lt;span class=&quot;keyword&quot;&gt;end&lt;/span&gt;

    it &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;is enabled&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;
      allow(&lt;span class=&quot;constant&quot;&gt;Rails&lt;/span&gt;.env).to receive(&lt;span class=&quot;symbol&quot;&gt;:development?&lt;/span&gt;).and_return(&lt;span class=&quot;predefined-constant&quot;&gt;true&lt;/span&gt;)
      expect(subject.enabled?(anything)).to be(&lt;span class=&quot;predefined-constant&quot;&gt;true&lt;/span&gt;)
    &lt;span class=&quot;keyword&quot;&gt;end&lt;/span&gt;
  &lt;span class=&quot;keyword&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;keyword&quot;&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;In order to ensure this test is isolated I take extra precautions to ensure the &lt;code&gt;Peek&lt;/code&gt; constant isn&#39;t available to my tests unless I explicitly allow it.&lt;/p&gt;

&lt;h3 id=&quot;initialization&quot;&gt;Initialization&lt;/h3&gt;

&lt;p&gt;By default Rails doesn&#39;t load ruby code from the &lt;code&gt;lib/&lt;/code&gt; directory, so lets be sure to tell it to. In &lt;code&gt;config/application.rb&lt;/code&gt; add this:&lt;/p&gt;

&lt;div class=&quot;highlighter-coderay&quot;&gt;&lt;table class=&quot;CodeRay&quot;&gt;&lt;tr&gt;
  &lt;td class=&quot;line-numbers&quot;&gt;&lt;pre&gt;&lt;a href=&quot;#n1&quot; name=&quot;n1&quot;&gt;1&lt;/a&gt;
&lt;a href=&quot;#n2&quot; name=&quot;n2&quot;&gt;2&lt;/a&gt;
&lt;a href=&quot;#n3&quot; name=&quot;n3&quot;&gt;3&lt;/a&gt;
&lt;/pre&gt;&lt;/td&gt;
  &lt;td class=&quot;code&quot;&gt;&lt;pre&gt;config.autoload_paths += &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;%W(&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;inline&quot;&gt;&lt;span class=&quot;inline-delimiter&quot;&gt;#{&lt;/span&gt;config.root&lt;span class=&quot;inline-delimiter&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;/lib
&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;h2 id=&quot;peekbarhelper-module&quot;&gt;&lt;code&gt;PeekBarHelper&lt;/code&gt; Module&lt;/h2&gt;

&lt;p&gt;As I said earlier peek implements a &lt;code&gt;peek_enabled?&lt;/code&gt; method and suggests if you want to customize it define the method in your &lt;code&gt;ApplicationController&lt;/code&gt; class. I recommend doing that in a helper class instead.&lt;/p&gt;

&lt;p&gt;We need to know if peek should be enabled and to verify that we also need to know if it&#39;s available. With the &lt;code&gt;PeekBar&lt;/code&gt; class this is simple.&lt;/p&gt;

&lt;h3 id=&quot;definition-1&quot;&gt;Definition&lt;/h3&gt;

&lt;p&gt;In &lt;code&gt;app/helpers/peek_bar_helper.rb&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;highlighter-coderay&quot;&gt;&lt;table class=&quot;CodeRay&quot;&gt;&lt;tr&gt;
  &lt;td class=&quot;line-numbers&quot;&gt;&lt;pre&gt;&lt;a href=&quot;#n1&quot; name=&quot;n1&quot;&gt;1&lt;/a&gt;
&lt;a href=&quot;#n2&quot; name=&quot;n2&quot;&gt;2&lt;/a&gt;
&lt;a href=&quot;#n3&quot; name=&quot;n3&quot;&gt;3&lt;/a&gt;
&lt;a href=&quot;#n4&quot; name=&quot;n4&quot;&gt;4&lt;/a&gt;
&lt;a href=&quot;#n5&quot; name=&quot;n5&quot;&gt;5&lt;/a&gt;
&lt;a href=&quot;#n6&quot; name=&quot;n6&quot;&gt;6&lt;/a&gt;
&lt;/pre&gt;&lt;/td&gt;
  &lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;keyword&quot;&gt;module&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;PeekBarHelper&lt;/span&gt;
  &lt;span class=&quot;comment&quot;&gt;# Typical Peek Integration&lt;/span&gt;
  &lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;peek_enabled?&lt;/span&gt;
    &lt;span class=&quot;constant&quot;&gt;PeekBar&lt;/span&gt;.enabled?(current_user)
  &lt;span class=&quot;keyword&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;keyword&quot;&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;h3 id=&quot;test-1&quot;&gt;Test&lt;/h3&gt;

&lt;p&gt;Since we&#39;re programming responsibly here&#39;s a test for the helper. In &lt;code&gt;spec/helpers/peek_bar_helper_spec.rb&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;highlighter-coderay&quot;&gt;&lt;table class=&quot;CodeRay&quot;&gt;&lt;tr&gt;
  &lt;td class=&quot;line-numbers&quot;&gt;&lt;pre&gt;&lt;a href=&quot;#n1&quot; name=&quot;n1&quot;&gt;1&lt;/a&gt;
&lt;a href=&quot;#n2&quot; name=&quot;n2&quot;&gt;2&lt;/a&gt;
&lt;a href=&quot;#n3&quot; name=&quot;n3&quot;&gt;3&lt;/a&gt;
&lt;a href=&quot;#n4&quot; name=&quot;n4&quot;&gt;4&lt;/a&gt;
&lt;a href=&quot;#n5&quot; name=&quot;n5&quot;&gt;5&lt;/a&gt;
&lt;a href=&quot;#n6&quot; name=&quot;n6&quot;&gt;6&lt;/a&gt;
&lt;a href=&quot;#n7&quot; name=&quot;n7&quot;&gt;7&lt;/a&gt;
&lt;a href=&quot;#n8&quot; name=&quot;n8&quot;&gt;8&lt;/a&gt;
&lt;a href=&quot;#n9&quot; name=&quot;n9&quot;&gt;9&lt;/a&gt;
&lt;strong&gt;&lt;a href=&quot;#n10&quot; name=&quot;n10&quot;&gt;10&lt;/a&gt;&lt;/strong&gt;
&lt;a href=&quot;#n11&quot; name=&quot;n11&quot;&gt;11&lt;/a&gt;
&lt;a href=&quot;#n12&quot; name=&quot;n12&quot;&gt;12&lt;/a&gt;
&lt;a href=&quot;#n13&quot; name=&quot;n13&quot;&gt;13&lt;/a&gt;
&lt;a href=&quot;#n14&quot; name=&quot;n14&quot;&gt;14&lt;/a&gt;
&lt;a href=&quot;#n15&quot; name=&quot;n15&quot;&gt;15&lt;/a&gt;
&lt;a href=&quot;#n16&quot; name=&quot;n16&quot;&gt;16&lt;/a&gt;
&lt;a href=&quot;#n17&quot; name=&quot;n17&quot;&gt;17&lt;/a&gt;
&lt;/pre&gt;&lt;/td&gt;
  &lt;td class=&quot;code&quot;&gt;&lt;pre&gt;require &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;rails_helper&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;constant&quot;&gt;RSpec&lt;/span&gt;.describe &lt;span class=&quot;constant&quot;&gt;PeekBarHelper&lt;/span&gt;, &lt;span class=&quot;key&quot;&gt;type&lt;/span&gt;: &lt;span class=&quot;symbol&quot;&gt;:helper&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;
  before(&lt;span class=&quot;symbol&quot;&gt;:each&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;
    allow(helper).to receive(&lt;span class=&quot;symbol&quot;&gt;:current_user&lt;/span&gt;).and_return(anything)
  &lt;span class=&quot;keyword&quot;&gt;end&lt;/span&gt;

  it &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;is not enabled&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;
    allow(&lt;span class=&quot;constant&quot;&gt;PeekBar&lt;/span&gt;).to receive(&lt;span class=&quot;symbol&quot;&gt;:enabled?&lt;/span&gt;).and_return(&lt;span class=&quot;predefined-constant&quot;&gt;false&lt;/span&gt;)
    expect(helper.peek_enabled?).to be(&lt;span class=&quot;predefined-constant&quot;&gt;false&lt;/span&gt;)
  &lt;span class=&quot;keyword&quot;&gt;end&lt;/span&gt;

  it &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;is enabled&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;
    allow(&lt;span class=&quot;constant&quot;&gt;PeekBar&lt;/span&gt;).to receive(&lt;span class=&quot;symbol&quot;&gt;:enabled?&lt;/span&gt;).and_return(&lt;span class=&quot;predefined-constant&quot;&gt;true&lt;/span&gt;)
    expect(helper.peek_enabled?).to be(&lt;span class=&quot;predefined-constant&quot;&gt;true&lt;/span&gt;)
  &lt;span class=&quot;keyword&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;keyword&quot;&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;h2 id=&quot;peek-initialization&quot;&gt;&lt;code&gt;Peek&lt;/code&gt; Initialization&lt;/h2&gt;

&lt;p&gt;The peek documentation explains how to set up &lt;code&gt;config/initializers/peek.rb&lt;/code&gt; to enable the plugins you&#39;ve selected. We need to first test for the availability of peek like this:&lt;/p&gt;

&lt;div class=&quot;highlighter-coderay&quot;&gt;&lt;table class=&quot;CodeRay&quot;&gt;&lt;tr&gt;
  &lt;td class=&quot;line-numbers&quot;&gt;&lt;pre&gt;&lt;a href=&quot;#n1&quot; name=&quot;n1&quot;&gt;1&lt;/a&gt;
&lt;a href=&quot;#n2&quot; name=&quot;n2&quot;&gt;2&lt;/a&gt;
&lt;a href=&quot;#n3&quot; name=&quot;n3&quot;&gt;3&lt;/a&gt;
&lt;a href=&quot;#n4&quot; name=&quot;n4&quot;&gt;4&lt;/a&gt;
&lt;a href=&quot;#n5&quot; name=&quot;n5&quot;&gt;5&lt;/a&gt;
&lt;a href=&quot;#n6&quot; name=&quot;n6&quot;&gt;6&lt;/a&gt;
&lt;/pre&gt;&lt;/td&gt;
  &lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;constant&quot;&gt;PeekBar&lt;/span&gt;.available?
  &lt;span class=&quot;constant&quot;&gt;Peek&lt;/span&gt;.into &lt;span class=&quot;constant&quot;&gt;Peek&lt;/span&gt;::&lt;span class=&quot;constant&quot;&gt;Views&lt;/span&gt;::&lt;span class=&quot;constant&quot;&gt;Git&lt;/span&gt;
  &lt;span class=&quot;constant&quot;&gt;Peek&lt;/span&gt;.into &lt;span class=&quot;constant&quot;&gt;Peek&lt;/span&gt;::&lt;span class=&quot;constant&quot;&gt;Views&lt;/span&gt;::&lt;span class=&quot;constant&quot;&gt;GC&lt;/span&gt;
  &lt;span class=&quot;constant&quot;&gt;Peek&lt;/span&gt;.into &lt;span class=&quot;constant&quot;&gt;Peek&lt;/span&gt;::&lt;span class=&quot;constant&quot;&gt;Views&lt;/span&gt;::&lt;span class=&quot;constant&quot;&gt;PerformanceBar&lt;/span&gt;
  &lt;span class=&quot;constant&quot;&gt;Peek&lt;/span&gt;.into &lt;span class=&quot;constant&quot;&gt;Peek&lt;/span&gt;::&lt;span class=&quot;constant&quot;&gt;Views&lt;/span&gt;::&lt;span class=&quot;constant&quot;&gt;PG&lt;/span&gt;
&lt;span class=&quot;keyword&quot;&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;h2 id=&quot;assets&quot;&gt;Assets&lt;/h2&gt;

&lt;p&gt;We don&#39;t want to load or pre-compile the peek assets unless we intend to use them. My recommended approach is to wrap their inclusion in a new set of CSS and JavaScript files. I use the asset pipeline, so that&#39;s how I&#39;ll be including the gem&#39;s assets.&lt;/p&gt;

&lt;h3 id=&quot;css-and-javascript-definition&quot;&gt;CSS and JavaScript Definition&lt;/h3&gt;

&lt;p&gt;CSS is in &lt;code&gt;app/assets/stylesheets/peek_bar.scss&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;highlighter-coderay&quot;&gt;&lt;table class=&quot;CodeRay&quot;&gt;&lt;tr&gt;
  &lt;td class=&quot;line-numbers&quot;&gt;&lt;pre&gt;&lt;a href=&quot;#n1&quot; name=&quot;n1&quot;&gt;1&lt;/a&gt;
&lt;a href=&quot;#n2&quot; name=&quot;n2&quot;&gt;2&lt;/a&gt;
&lt;a href=&quot;#n3&quot; name=&quot;n3&quot;&gt;3&lt;/a&gt;
&lt;a href=&quot;#n4&quot; name=&quot;n4&quot;&gt;4&lt;/a&gt;
&lt;a href=&quot;#n5&quot; name=&quot;n5&quot;&gt;5&lt;/a&gt;
&lt;a href=&quot;#n6&quot; name=&quot;n6&quot;&gt;6&lt;/a&gt;
&lt;a href=&quot;#n7&quot; name=&quot;n7&quot;&gt;7&lt;/a&gt;
&lt;a href=&quot;#n8&quot; name=&quot;n8&quot;&gt;8&lt;/a&gt;
&lt;a href=&quot;#n9&quot; name=&quot;n9&quot;&gt;9&lt;/a&gt;
&lt;strong&gt;&lt;a href=&quot;#n10&quot; name=&quot;n10&quot;&gt;10&lt;/a&gt;&lt;/strong&gt;
&lt;a href=&quot;#n11&quot; name=&quot;n11&quot;&gt;11&lt;/a&gt;
&lt;/pre&gt;&lt;/td&gt;
  &lt;td class=&quot;code&quot;&gt;&lt;pre&gt;//= &lt;span class=&quot;tag&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;tag&quot;&gt;peek&lt;/span&gt;
//= &lt;span class=&quot;tag&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;tag&quot;&gt;peek&lt;/span&gt;/&lt;span class=&quot;tag&quot;&gt;views&lt;/span&gt;/&lt;span class=&quot;tag&quot;&gt;performance_bar&lt;/span&gt;

// &lt;span class=&quot;tag&quot;&gt;Peek&lt;/span&gt; &lt;span class=&quot;tag&quot;&gt;bar&lt;/span&gt; &lt;span class=&quot;tag&quot;&gt;on&lt;/span&gt; &lt;span class=&quot;tag&quot;&gt;bottom&lt;/span&gt; &lt;span class=&quot;tag&quot;&gt;of&lt;/span&gt; &lt;span class=&quot;tag&quot;&gt;page&lt;/span&gt;.
&lt;span class=&quot;id&quot;&gt;#peek&lt;/span&gt; {
  &lt;span class=&quot;key&quot;&gt;position&lt;/span&gt;: &lt;span class=&quot;value&quot;&gt;fixed&lt;/span&gt;;
  &lt;span class=&quot;key&quot;&gt;bottom&lt;/span&gt;:   &lt;span class=&quot;float&quot;&gt;0&lt;/span&gt;;
  &lt;span class=&quot;key&quot;&gt;left&lt;/span&gt;:     &lt;span class=&quot;float&quot;&gt;0&lt;/span&gt;;
  &lt;span class=&quot;key&quot;&gt;right&lt;/span&gt;:    &lt;span class=&quot;float&quot;&gt;0&lt;/span&gt;;
  &lt;span class=&quot;key&quot;&gt;z-index&lt;/span&gt;:  &lt;span class=&quot;float&quot;&gt;999&lt;/span&gt;;
}
&lt;/pre&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;I prefer &lt;a href=&quot;http://coffeescript.org/&quot;&gt;CoffeeScript&lt;/a&gt; so I loaded the JavaScript in &lt;code&gt;app/assets/javascripts/peek_bar.js.coffee&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;highlighter-coderay&quot;&gt;&lt;table class=&quot;CodeRay&quot;&gt;&lt;tr&gt;
  &lt;td class=&quot;line-numbers&quot;&gt;&lt;pre&gt;&lt;a href=&quot;#n1&quot; name=&quot;n1&quot;&gt;1&lt;/a&gt;
&lt;a href=&quot;#n2&quot; name=&quot;n2&quot;&gt;2&lt;/a&gt;
&lt;/pre&gt;&lt;/td&gt;
  &lt;td class=&quot;code&quot;&gt;&lt;pre&gt;#= require peek
#= require peek/views/performance_bar
&lt;/pre&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;h3 id=&quot;initialization-1&quot;&gt;Initialization&lt;/h3&gt;

&lt;p&gt;The asset pipeline complains if you don&#39;t tell it about additional assets you intend to include separately (see the next section on &lt;a href=&quot;#view-configuration&quot;&gt;View Configuration&lt;/a&gt;). Thing is, we don&#39;t &lt;em&gt;always&lt;/em&gt; intend to include them or pre-compile them in this case. Just like when we initialized peek itself we must check for its availability.&lt;/p&gt;

&lt;p&gt;Add this to &lt;code&gt;config/initializers/assets.rb&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;highlighter-coderay&quot;&gt;&lt;table class=&quot;CodeRay&quot;&gt;&lt;tr&gt;
  &lt;td class=&quot;line-numbers&quot;&gt;&lt;pre&gt;&lt;a href=&quot;#n1&quot; name=&quot;n1&quot;&gt;1&lt;/a&gt;
&lt;a href=&quot;#n2&quot; name=&quot;n2&quot;&gt;2&lt;/a&gt;
&lt;a href=&quot;#n3&quot; name=&quot;n3&quot;&gt;3&lt;/a&gt;
&lt;/pre&gt;&lt;/td&gt;
  &lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;constant&quot;&gt;PeekBar&lt;/span&gt;.available?
  &lt;span class=&quot;constant&quot;&gt;Rails&lt;/span&gt;.application.config.assets.precompile += &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;%w(&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;peek_bar.css peek_bar.js&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;keyword&quot;&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;h3 id=&quot;default-assets-gotcha&quot;&gt;Default Assets Gotcha&lt;/h3&gt;

&lt;p&gt;By default &lt;code&gt;application.css&lt;/code&gt; and &lt;code&gt;application.js&lt;/code&gt; include all the CSS and JavaScript in their respective directory trees. That&#39;s achieved through the use of &lt;code&gt;require_tree .&lt;/code&gt; in each of those files.&lt;/p&gt;

&lt;p&gt;Now that we&#39;ve created a couple assets to conditionally load we need to remove &lt;code&gt;require_tree&lt;/code&gt;. If you don&#39;t remove it your default assets will try to include &lt;code&gt;peek_bar.*&lt;/code&gt; which will lead to the aforementioned failures on environments where peek is not installed.&lt;/p&gt;

&lt;p&gt;If you were relying on it, which I don&#39;t recommend for reasons beyond the scope of this essay, learn how to deal with it by reading the &lt;a href=&quot;http://guides.rubyonrails.org/asset_pipeline.html#manifest-files-and-directives&quot;&gt;Asset Pipeline Rails Guide&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;view-configuration&quot;&gt;View Configuration&lt;/h2&gt;

&lt;p&gt;All this hard work for what? Now it&#39;s time to tie it all together in our layout view. I like &lt;a href=&quot;http://slim-lang.com/&quot;&gt;slim&lt;/a&gt; so this is an extremely condensed version of my default layout, &lt;code&gt;app/views/layouts/application.html.slim&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;highlighter-coderay&quot;&gt;&lt;table class=&quot;CodeRay&quot;&gt;&lt;tr&gt;
  &lt;td class=&quot;line-numbers&quot;&gt;&lt;pre&gt;&lt;a href=&quot;#n1&quot; name=&quot;n1&quot;&gt;1&lt;/a&gt;
&lt;a href=&quot;#n2&quot; name=&quot;n2&quot;&gt;2&lt;/a&gt;
&lt;a href=&quot;#n3&quot; name=&quot;n3&quot;&gt;3&lt;/a&gt;
&lt;a href=&quot;#n4&quot; name=&quot;n4&quot;&gt;4&lt;/a&gt;
&lt;a href=&quot;#n5&quot; name=&quot;n5&quot;&gt;5&lt;/a&gt;
&lt;a href=&quot;#n6&quot; name=&quot;n6&quot;&gt;6&lt;/a&gt;
&lt;a href=&quot;#n7&quot; name=&quot;n7&quot;&gt;7&lt;/a&gt;
&lt;a href=&quot;#n8&quot; name=&quot;n8&quot;&gt;8&lt;/a&gt;
&lt;a href=&quot;#n9&quot; name=&quot;n9&quot;&gt;9&lt;/a&gt;
&lt;strong&gt;&lt;a href=&quot;#n10&quot; name=&quot;n10&quot;&gt;10&lt;/a&gt;&lt;/strong&gt;
&lt;a href=&quot;#n11&quot; name=&quot;n11&quot;&gt;11&lt;/a&gt;
&lt;a href=&quot;#n12&quot; name=&quot;n12&quot;&gt;12&lt;/a&gt;
&lt;a href=&quot;#n13&quot; name=&quot;n13&quot;&gt;13&lt;/a&gt;
&lt;/pre&gt;&lt;/td&gt;
  &lt;td class=&quot;code&quot;&gt;&lt;pre&gt;doctype html
html
  head
    = stylesheet_link_tag &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;application&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;key&quot;&gt;media&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;data-turbolinks-track&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt; =&amp;gt; &lt;span class=&quot;predefined-constant&quot;&gt;true&lt;/span&gt;
    - &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; peek_enabled?
      = stylesheet_link_tag &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;peek_bar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;key&quot;&gt;media&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;data-turbolinks-track&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt; =&amp;gt; &lt;span class=&quot;predefined-constant&quot;&gt;true&lt;/span&gt;
    = csrf_meta_tags
body
  = render &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;peek/bar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; peek_enabled?
  = &lt;span class=&quot;keyword&quot;&gt;yield&lt;/span&gt;
  = javascript_include_tag &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;application&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;data-turbolinks-track&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt; =&amp;gt; &lt;span class=&quot;predefined-constant&quot;&gt;true&lt;/span&gt;
  - &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; peek_enabled?
    = javascript_include_tag &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;peek_bar&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;data-turbolinks-track&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt; =&amp;gt; &lt;span class=&quot;predefined-constant&quot;&gt;true&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;h2 id=&quot;finally&quot;&gt;Finally&lt;/h2&gt;

&lt;p&gt;Voila!&lt;/p&gt;

&lt;p&gt;At this point &lt;a href=&quot;https://github.com/peek/peek&quot;&gt;peek&lt;/a&gt; is incorporated into my application in a robust, responsible way. Environments we didn&#39;t install it into operate perfectly without it, and the ones we do have an encapsulation to use for managing its inclusion in our interface.&lt;/p&gt;

&lt;p&gt;It was a little more work but it paid off. We have an excellent developer tool installed without hurting production.&lt;/p&gt;

&lt;p&gt;If we want to use peek in production with only staff accounts, for example, all we have to do is change the &lt;code&gt;Gemfile&lt;/code&gt; to install peek in the &lt;code&gt;:production&lt;/code&gt; group and adjust the &lt;code&gt;PeekBar.enabled?&lt;/code&gt; method:&lt;/p&gt;

&lt;div class=&quot;highlighter-coderay&quot;&gt;&lt;table class=&quot;CodeRay&quot;&gt;&lt;tr&gt;
  &lt;td class=&quot;line-numbers&quot;&gt;&lt;pre&gt;&lt;a href=&quot;#n1&quot; name=&quot;n1&quot;&gt;1&lt;/a&gt;
&lt;a href=&quot;#n2&quot; name=&quot;n2&quot;&gt;2&lt;/a&gt;
&lt;a href=&quot;#n3&quot; name=&quot;n3&quot;&gt;3&lt;/a&gt;
&lt;a href=&quot;#n4&quot; name=&quot;n4&quot;&gt;4&lt;/a&gt;
&lt;a href=&quot;#n5&quot; name=&quot;n5&quot;&gt;5&lt;/a&gt;
&lt;/pre&gt;&lt;/td&gt;
  &lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;predefined-constant&quot;&gt;self&lt;/span&gt;.&lt;span class=&quot;function&quot;&gt;enabled?&lt;/span&gt;(current_user)
  &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;predefined-constant&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;unless&lt;/span&gt; available?

  &lt;span class=&quot;constant&quot;&gt;Rails&lt;/span&gt;.env.development? || current_user.staff?
&lt;span class=&quot;keyword&quot;&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;That &lt;code&gt;PeekBar&lt;/code&gt; class really tied the room together, did it not?&lt;/p&gt;

&lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;http://www.youtube.com/embed/ezQLP1dj_t8&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;


  &lt;p&gt;&lt;a href=&quot;http://caseywest.com/responsibly-use-peek-to-inspect-rails/&quot;&gt;Responsibly Use Peek to Inspect Rails&lt;/a&gt; was originally published by Casey West at &lt;a href=&quot;http://caseywest.com&quot;&gt;The consensus-seeking architect.&lt;/a&gt; on January 07, 2015.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[Faster CI on Travis (and Docker) for Ruby (and Rails (and RuboCop))]]></title>
 <link rel="alternate" type="text/html" href="http://caseywest.com/faster-ci-on-travis-and-docker-for-ruby-and-rails-and-rubocop/" />
  <id>http://caseywest.com/faster-ci-on-travis-and-docker-for-ruby-and-rails-and-rubocop</id>
  <updated>2015-01-06 22:17:39 -0500T00:00:00-00:00</updated>
  <published>2015-01-06T00:00:00-05:00</published>
  
  <author>
    <name>Casey West</name>
    <uri>http://caseywest.com</uri>
    <email></email>
  </author>
  <content type="html">&lt;p&gt;If you read &lt;a href=&quot;/run-bundle-audit-from-rake/&quot;&gt;my post on running bundle-audit from rake&lt;/a&gt; you&#39;ll also know I run &lt;a href=&quot;https://github.com/bbatsov/rubocop&quot;&gt;RuboCop&lt;/a&gt; as part of continuous integration in &lt;a href=&quot;https://travis-ci.org&quot;&gt;Travis CI&lt;/a&gt;. Today I switched a project to run on Travis&#39; &lt;a href=&quot;http://blog.travis-ci.com/2014-12-17-faster-builds-with-container-based-infrastructure/&quot;&gt;new docker infrastructure&lt;/a&gt; and something hilarious happened.&lt;/p&gt;

&lt;h1 id=&quot;running-travis-ci-on-docker&quot;&gt;Running Travis CI on Docker&lt;/h1&gt;

&lt;p&gt;This part is super easy. Amazingly easy. Add this to your &lt;code&gt;.travis.yml&lt;/code&gt; file:&lt;/p&gt;

&lt;div class=&quot;highlighter-coderay&quot;&gt;&lt;table class=&quot;CodeRay&quot;&gt;&lt;tr&gt;
  &lt;td class=&quot;line-numbers&quot;&gt;&lt;pre&gt;&lt;a href=&quot;#n1&quot; name=&quot;n1&quot;&gt;1&lt;/a&gt;
&lt;a href=&quot;#n2&quot; name=&quot;n2&quot;&gt;2&lt;/a&gt;
&lt;a href=&quot;#n3&quot; name=&quot;n3&quot;&gt;3&lt;/a&gt;
&lt;/pre&gt;&lt;/td&gt;
  &lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;comment&quot;&gt;# Docker Infrastructure&lt;/span&gt;
&lt;span class=&quot;key&quot;&gt;sudo&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;content&quot;&gt;false&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;key&quot;&gt;cache&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;content&quot;&gt;bundler&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;The &lt;code&gt;sudo&lt;/code&gt; key is the magic word to build your project in a Docker container. The &lt;code&gt;cache&lt;/code&gt; key will enable &lt;a href=&quot;http://bundler.io/&quot;&gt;bundler&lt;/a&gt; caching for your project.&lt;/p&gt;

&lt;p&gt;These two lines can speed up your build times by nearly eliminating startup costs. I went from 2.5 minutes to 24 seconds on builds which used the cache and archived images. I&#39;m running &lt;code&gt;bundle-audit&lt;/code&gt;, &lt;code&gt;brakeman&lt;/code&gt;, &lt;code&gt;rubocop&lt;/code&gt;, and &lt;code&gt;rspec&lt;/code&gt; in 24 seconds. That is awesome!&lt;/p&gt;

&lt;h1 id=&quot;the-funny-thing-is&quot;&gt;The funny thing is…&lt;/h1&gt;

&lt;p&gt;The first run I had a little hiccup. &lt;a href=&quot;https://github.com/bbatsov/rubocop&quot;&gt;RuboCop&lt;/a&gt; was doing its thing and, on this project, it only has 30 files to inspect. I know that because I just ran it locally and, yep, 30 files. In the Travis environment, however, it was scanning &lt;strong&gt;5320 files&lt;/strong&gt;. That&#39;s probably wrong.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;pullquote-right&quot; data-pullquote=&quot;by enabling the `cache` in Travis I caused RuboCop to lose its mind&quot;&gt;
Turns out, by enabling the &lt;code&gt;cache&lt;/code&gt; in Travis I caused RuboCop to lose its mind. How? Because of where the cache was stored. Travis put the cache in &lt;code&gt;vendor/bundle&lt;/code&gt; which is in my Rails app directory and within sight of RuboCop. That&#39;s legit, but I don&#39;t actually want RuboCop to check any vendor code.
&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Why was RuboCop doing that? Because I wanted to &lt;code&gt;Exclude&lt;/code&gt; a few things in my Rails app—mostly generated code—so I had a &lt;code&gt;.rubocop.yml&lt;/code&gt; file that looked a little like this:&lt;/p&gt;

&lt;div class=&quot;highlighter-coderay&quot;&gt;&lt;table class=&quot;CodeRay&quot;&gt;&lt;tr&gt;
  &lt;td class=&quot;line-numbers&quot;&gt;&lt;pre&gt;&lt;a href=&quot;#n1&quot; name=&quot;n1&quot;&gt;1&lt;/a&gt;
&lt;a href=&quot;#n2&quot; name=&quot;n2&quot;&gt;2&lt;/a&gt;
&lt;a href=&quot;#n3&quot; name=&quot;n3&quot;&gt;3&lt;/a&gt;
&lt;a href=&quot;#n4&quot; name=&quot;n4&quot;&gt;4&lt;/a&gt;
&lt;a href=&quot;#n5&quot; name=&quot;n5&quot;&gt;5&lt;/a&gt;
&lt;a href=&quot;#n6&quot; name=&quot;n6&quot;&gt;6&lt;/a&gt;
&lt;a href=&quot;#n7&quot; name=&quot;n7&quot;&gt;7&lt;/a&gt;
&lt;a href=&quot;#n8&quot; name=&quot;n8&quot;&gt;8&lt;/a&gt;
&lt;a href=&quot;#n9&quot; name=&quot;n9&quot;&gt;9&lt;/a&gt;
&lt;strong&gt;&lt;a href=&quot;#n10&quot; name=&quot;n10&quot;&gt;10&lt;/a&gt;&lt;/strong&gt;
&lt;/pre&gt;&lt;/td&gt;
  &lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;key&quot;&gt;require&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;content&quot;&gt;rubocop-rspec&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;key&quot;&gt;inherit_from&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;content&quot;&gt;.rubocop_todo.yml&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;key&quot;&gt;AllCops&lt;/span&gt;:
  &lt;span class=&quot;key&quot;&gt;Exclude&lt;/span&gt;:
    - &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;content&quot;&gt;&#39;db/schema.rb&#39;&lt;/span&gt;&lt;/span&gt;
    - &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;content&quot;&gt;&#39;bin/**/*&#39;&lt;/span&gt;&lt;/span&gt;
    - &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;content&quot;&gt;&#39;config/initializers/devise.rb&#39;&lt;/span&gt;&lt;/span&gt;
    - &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;content&quot;&gt;&#39;config/initializers/simple_form*&#39;&lt;/span&gt;&lt;/span&gt;
    - &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;content&quot;&gt;&#39;db/migrate/*&#39;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;key&quot;&gt;RunRailsCops&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;content&quot;&gt;true&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;The &lt;a href=&quot;https://github.com/bbatsov/rubocop/blob/master/config/default.yml#L28&quot;&gt;default RuboCop configuration&lt;/a&gt; &lt;em&gt;does&lt;/em&gt; exclude vendor. I need that, too, but my &lt;code&gt;Exclude&lt;/code&gt; above overrides the default, so it was gone.&lt;/p&gt;

&lt;h1 id=&quot;the-simple-fix&quot;&gt;The simple fix&lt;/h1&gt;

&lt;p&gt;Lets just add &lt;code&gt;vendor&lt;/code&gt; back into the exclusion list:&lt;/p&gt;

&lt;div class=&quot;highlighter-coderay&quot;&gt;&lt;table class=&quot;CodeRay&quot;&gt;&lt;tr&gt;
  &lt;td class=&quot;line-numbers&quot;&gt;&lt;pre&gt;&lt;a href=&quot;#n1&quot; name=&quot;n1&quot;&gt;1&lt;/a&gt;
&lt;a href=&quot;#n2&quot; name=&quot;n2&quot;&gt;2&lt;/a&gt;
&lt;a href=&quot;#n3&quot; name=&quot;n3&quot;&gt;3&lt;/a&gt;
&lt;a href=&quot;#n4&quot; name=&quot;n4&quot;&gt;4&lt;/a&gt;
&lt;a href=&quot;#n5&quot; name=&quot;n5&quot;&gt;5&lt;/a&gt;
&lt;a href=&quot;#n6&quot; name=&quot;n6&quot;&gt;6&lt;/a&gt;
&lt;a href=&quot;#n7&quot; name=&quot;n7&quot;&gt;7&lt;/a&gt;
&lt;a href=&quot;#n8&quot; name=&quot;n8&quot;&gt;8&lt;/a&gt;
&lt;a href=&quot;#n9&quot; name=&quot;n9&quot;&gt;9&lt;/a&gt;
&lt;strong&gt;&lt;a href=&quot;#n10&quot; name=&quot;n10&quot;&gt;10&lt;/a&gt;&lt;/strong&gt;
&lt;a href=&quot;#n11&quot; name=&quot;n11&quot;&gt;11&lt;/a&gt;
&lt;/pre&gt;&lt;/td&gt;
  &lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;key&quot;&gt;require&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;content&quot;&gt;rubocop-rspec&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;key&quot;&gt;inherit_from&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;content&quot;&gt;.rubocop_todo.yml&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;key&quot;&gt;AllCops&lt;/span&gt;:
  &lt;span class=&quot;key&quot;&gt;Exclude&lt;/span&gt;:
    - &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;content&quot;&gt;&#39;db/schema.rb&#39;&lt;/span&gt;&lt;/span&gt;
    - &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;content&quot;&gt;&#39;bin/**/*&#39;&lt;/span&gt;&lt;/span&gt;
    - &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;content&quot;&gt;&#39;config/initializers/devise.rb&#39;&lt;/span&gt;&lt;/span&gt;
    - &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;content&quot;&gt;&#39;config/initializers/simple_form*&#39;&lt;/span&gt;&lt;/span&gt;
    - &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;content&quot;&gt;&#39;db/migrate/*&#39;&lt;/span&gt;&lt;/span&gt;
    - &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;content&quot;&gt;&#39;vendor/**/*&#39;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;key&quot;&gt;RunRailsCops&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;content&quot;&gt;true&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;Voila!&lt;/p&gt;

&lt;p&gt;Be careful when modifying RuboCop&#39;s configuration that you copy what you need to keep from the defaults, because defining an entry in your project will discard the them, not merge them.&lt;/p&gt;


  &lt;p&gt;&lt;a href=&quot;http://caseywest.com/faster-ci-on-travis-and-docker-for-ruby-and-rails-and-rubocop/&quot;&gt;Faster CI on Travis (and Docker) for Ruby (and Rails (and RuboCop))&lt;/a&gt; was originally published by Casey West at &lt;a href=&quot;http://caseywest.com&quot;&gt;The consensus-seeking architect.&lt;/a&gt; on January 06, 2015.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[There's Still No Silver Bullet (2006)]]></title>
 <link rel="alternate" type="text/html" href="http://caseywest.com/theres-still-no-silver-bullet/" />
  <id>http://caseywest.com/theres-still-no-silver-bullet</id>
  <updated>2015-01-04 01:36:18 -0500T00:00:00-00:00</updated>
  <published>2015-01-04T00:00:00-05:00</published>
  
  <author>
    <name>Casey West</name>
    <uri>http://caseywest.com</uri>
    <email></email>
  </author>
  <content type="html">&lt;blockquote&gt;
  &lt;p&gt;Originally published by me on &lt;a href=&quot;https://web.archive.org/web/20070729012936/http://blog.caseywest.com/2006/12/theres_still_no_silver_bullet_1.html&quot;&gt;December 18, 2006&lt;/a&gt; and reprinted here as-is.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;I recently read &lt;a href=&quot;http://en.wikipedia.org/wiki/Fred_Brooks&quot;&gt;Frederick P. Brooks, Jr.&#39;s&lt;/a&gt; essay &lt;a href=&quot;http://faculty.salisbury.edu/~xswang/Research/Papers/SERelated/no-silver-bullet.pdf&quot;&gt;No Silver Bullet: Essence and Accidents of Software Engineering&lt;/a&gt;. Brooks wrote this paper 20 years ago and it still rings true today. I like the whole essay and encourage you to read it if you haven&#39;t already.&lt;/p&gt;

&lt;p&gt;Brooks is an &lt;a href=&quot;http://www.brainyquote.com/quotes/authors/f/frederick_p_brooks_jr.html&quot;&gt;oft quoted&lt;/a&gt; writer. I&#39;m going to indulge in the practice by pointing out a few things from this essay that I think will always be true.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Likewise, a scaling-up of a software entity is not merely a repetition of the same elements in larger sizes, it is necessarily an increase in the number of different elements. In most cases, the elements interact with each other in some nonlinear fashion, and the complexity of the whole increases much more than linearly.&lt;/p&gt;

  &lt;p&gt;The complexity of software is an essential property, not an accidental one. Hence, descriptions of a software entity that abstract away its complexity often abstract away its essence.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;I really like this, because today there are &lt;a href=&quot;http://www.rubyonrails.org/&quot;&gt;a lot&lt;/a&gt; of &lt;a href=&quot;http://www.djangoproject.com/&quot;&gt;arguably excellent&lt;/a&gt; &lt;a href=&quot;http://www.turbogears.org/&quot;&gt;attempts&lt;/a&gt; to &lt;a href=&quot;http://jifty.org/&quot;&gt;abstract complexity&lt;/a&gt; in &lt;a href=&quot;http://www.ning.com/&quot;&gt;modern application development&lt;/a&gt;. Many software developers look to frameworks and application environments to manage the complexity of software development for them. These developers expect incredible gains in productivity by using a tool that makes building applications &quot;really easy.&quot; Don&#39;t be fooled. Tools help you build things, yes, but don&#39;t expect to get a pony when you install Ruby on Rails (although, as it happens, you do get a pony when you install Jifty). Frameworks are not 100% tools, they&#39;re 80% tools. If they were 100% tools then you wouldn&#39;t be making applications you&#39;d be writing configuration files. What kind of programmer writes configuration files for a fun?&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;In many cases, the software must conform because it is the most recent arrival on the scene. In others, it must conform because it is perceived as the most conformable. But in all cases, much complexity comes from conformation to other interfaces; this complexity cannot be simplified out by any redesign of the software alone.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;This most obvious form of complexity through conformity in web applications is browser compatibility. I don&#39;t think that is the scenario that takes the cake, however. Anything relating to or interfacing with email clients increases complexity in an extremely non-linear fashion. There are other issues, too, such as representing information for RSS and Atom feeds. A lot of cruft exists around the edges of software because it must conform to its environment. You cannot simplify conformity within your software alone.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;In spite of progress in restricting and simplifying the structures of software, they remain inherently unvisualizable, and thus do not permit the mind to use some of its most powerful conceptual tools. This lack not only impedes the process of design within one mind, it severely hinders communication among minds.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;If you&#39;ve ever worked with someone else when writing software you know this to be true. The inability to visualize software is a serious friction point between team members.&lt;/p&gt;

&lt;p&gt;When asked &lt;a href=&quot;https://web.archive.org/web/20070712044136/http://www.stifflog.com//2006//10//16//stiff-asks-great-programmers-answer//&quot;&gt;&quot;What do you think makes some programmers 10 or 100 times more productive than othes?&quot;&lt;/a&gt; &lt;a href=&quot;http://norvig.com/&quot;&gt;Peter Norvig&lt;/a&gt; answers, &quot;The ability to fit the whole problem into their heads at one time.&quot; That&#39;s often a critical ability and it speaks to Brooks&#39;s admission that software design is hard enough within a single mind. &lt;a href=&quot;http://www.loudthinking.com/&quot;&gt;David Heinemeier Hansson&lt;/a&gt; has a complimentary answer to the same question, &quot;The ability to restate hard problems as easy ones.&quot; Having the ability to clearly communicate software design is important, yes. I would add to these answers, &quot;The ability to explicitly articulate the design of complex software.&quot; Having these attributes brings you closer to making the invisible visible.&lt;/p&gt;

&lt;p&gt;Imagine how important these skills must be if you&#39;re building a geographically distributed team like &lt;a href=&quot;http://37signals.com&quot;&gt;37signals&lt;/a&gt; or &lt;a href=&quot;http://socialtext.com&quot;&gt;Socialtext&lt;/a&gt;? The lowest common denominator for being hired on these teams is likely expressed in the previous paragraph.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;I do not believe we will find productivity magic here. Program verification is a very powerful concept, and it will be very important for such things as secure operating-system kernels. The technology does not promise, however, to save labor. Verifications are so much work that only a few substantial programs have ever been verified.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;20 years after writing this Brooks is still right. In context, Brooks is talking about &quot;test first&quot; methodologies here, asserting that testing during design and specification will not save you labor. He goes on:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;More seriously, even perfect program verification can only establish that a program meets its specification. The hardest part of the software task is arriving at a complete and consistent specification, and much of the essence of building a program is in fact the debugging of the specification.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;In my opinion this statement is a key gem. I interpret this statement to be a nod to iterative development, suggesting that the imperfect art of testing our assumptions over time is a large part of the essence of software development. One could bastardize this as &quot;release early, release often.&quot; I feel that&#39;s an oversimplification that leaves large room for error.&lt;/p&gt;

&lt;p&gt;Taking time to design software is critical. I agree with &lt;a href=&quot;http://www.joelonsoftware.com/articles/fog0000000036.html&quot;&gt;Joel&lt;/a&gt; when he says &quot;Programmers and software engineers who dive into code without writing a spec tend to think they&#39;re cool gunslingers, shooting from the hip. They&#39;re not. They are terribly unproductive. They write bad code and produce shoddy software, and they threaten their projects by taking giant risks which are completely uncalled for.&quot;&lt;/p&gt;

&lt;p&gt;Let&#39;s skip to the end, to the real message within the message of the essence of software development:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Hence, although I strongly support the technology-transfer and curriculumdevelopment efforts now under way, I think the most important single effort we can mount is to develop ways to grow great designers.&lt;/p&gt;

  &lt;p&gt;No software organization can ignore this challenge. Good managers, scarce though they be, are no scarcer than good designers. Great designers and great managers are both very rare. Most organizations spend considerable effort in finding and cultivating the management prospects; I know of none that spends equal effort in finding and developing the great designers upon whom the technical excellence of the products will ultimately depend.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;This, I believe, is the most important advancement since Brooks wrote his paper. Organizations have recognized the need to grow great software designers. As a result the pace of development and product creation has increased dramatically. The state of the world is much better now than 1986 but we still have a long way to go.&lt;/p&gt;

  &lt;p&gt;&lt;a href=&quot;http://caseywest.com/theres-still-no-silver-bullet/&quot;&gt;There's Still No Silver Bullet (2006)&lt;/a&gt; was originally published by Casey West at &lt;a href=&quot;http://caseywest.com&quot;&gt;The consensus-seeking architect.&lt;/a&gt; on January 04, 2015.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[Run bundle-audit from rake]]></title>
 <link rel="alternate" type="text/html" href="http://caseywest.com/run-bundle-audit-from-rake/" />
  <id>http://caseywest.com/run-bundle-audit-from-rake</id>
  <updated>2015-01-03 00:07:06 -0500T00:00:00-00:00</updated>
  <published>2015-01-03T00:00:00-05:00</published>
  
  <author>
    <name>Casey West</name>
    <uri>http://caseywest.com</uri>
    <email></email>
  </author>
  <content type="html">&lt;p&gt;&lt;code&gt;bundle-audit&lt;/code&gt; is a command-line utility provided by the &lt;a href=&quot;https://github.com/rubysec/bundler-audit&quot;&gt;bundler-audit ruby gem&lt;/a&gt;. It does patch-level vulnerability scans on your Ruby dependencies by working with &lt;a href=&quot;http://bundler.io/&quot;&gt;bundler&lt;/a&gt; to inspect your project&#39;s &lt;code&gt;Gemfile.lock&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;I want to run &lt;code&gt;bundle-audit&lt;/code&gt; from a rake task in a Rails project. Here&#39;s how I did it.&lt;/p&gt;

&lt;p&gt;This is my &lt;code&gt;lib/tasks/bundle_audit.rake&lt;/code&gt; file.&lt;/p&gt;

&lt;div class=&quot;highlighter-coderay&quot;&gt;&lt;table class=&quot;CodeRay&quot;&gt;&lt;tr&gt;
  &lt;td class=&quot;line-numbers&quot;&gt;&lt;pre&gt;&lt;a href=&quot;#n1&quot; name=&quot;n1&quot;&gt;1&lt;/a&gt;
&lt;a href=&quot;#n2&quot; name=&quot;n2&quot;&gt;2&lt;/a&gt;
&lt;a href=&quot;#n3&quot; name=&quot;n3&quot;&gt;3&lt;/a&gt;
&lt;a href=&quot;#n4&quot; name=&quot;n4&quot;&gt;4&lt;/a&gt;
&lt;a href=&quot;#n5&quot; name=&quot;n5&quot;&gt;5&lt;/a&gt;
&lt;a href=&quot;#n6&quot; name=&quot;n6&quot;&gt;6&lt;/a&gt;
&lt;a href=&quot;#n7&quot; name=&quot;n7&quot;&gt;7&lt;/a&gt;
&lt;a href=&quot;#n8&quot; name=&quot;n8&quot;&gt;8&lt;/a&gt;
&lt;a href=&quot;#n9&quot; name=&quot;n9&quot;&gt;9&lt;/a&gt;
&lt;strong&gt;&lt;a href=&quot;#n10&quot; name=&quot;n10&quot;&gt;10&lt;/a&gt;&lt;/strong&gt;
&lt;a href=&quot;#n11&quot; name=&quot;n11&quot;&gt;11&lt;/a&gt;
&lt;a href=&quot;#n12&quot; name=&quot;n12&quot;&gt;12&lt;/a&gt;
&lt;a href=&quot;#n13&quot; name=&quot;n13&quot;&gt;13&lt;/a&gt;
&lt;a href=&quot;#n14&quot; name=&quot;n14&quot;&gt;14&lt;/a&gt;
&lt;a href=&quot;#n15&quot; name=&quot;n15&quot;&gt;15&lt;/a&gt;
&lt;a href=&quot;#n16&quot; name=&quot;n16&quot;&gt;16&lt;/a&gt;
&lt;a href=&quot;#n17&quot; name=&quot;n17&quot;&gt;17&lt;/a&gt;
&lt;a href=&quot;#n18&quot; name=&quot;n18&quot;&gt;18&lt;/a&gt;
&lt;a href=&quot;#n19&quot; name=&quot;n19&quot;&gt;19&lt;/a&gt;
&lt;strong&gt;&lt;a href=&quot;#n20&quot; name=&quot;n20&quot;&gt;20&lt;/a&gt;&lt;/strong&gt;
&lt;a href=&quot;#n21&quot; name=&quot;n21&quot;&gt;21&lt;/a&gt;
&lt;a href=&quot;#n22&quot; name=&quot;n22&quot;&gt;22&lt;/a&gt;
&lt;a href=&quot;#n23&quot; name=&quot;n23&quot;&gt;23&lt;/a&gt;
&lt;/pre&gt;&lt;/td&gt;
  &lt;td class=&quot;code&quot;&gt;&lt;pre&gt;require &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;bundler/audit/cli&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;

namespace &lt;span class=&quot;symbol&quot;&gt;:bundle_audit&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;
  desc &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;Update bundle-audit database&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;
  task &lt;span class=&quot;symbol&quot;&gt;:update&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;
    &lt;span class=&quot;constant&quot;&gt;Bundler&lt;/span&gt;::&lt;span class=&quot;constant&quot;&gt;Audit&lt;/span&gt;::&lt;span class=&quot;constant&quot;&gt;CLI&lt;/span&gt;.new.update
  &lt;span class=&quot;keyword&quot;&gt;end&lt;/span&gt;

  desc &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;Check gems for vulns using bundle-audit&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;
  task &lt;span class=&quot;symbol&quot;&gt;:check&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;
    &lt;span class=&quot;constant&quot;&gt;Bundler&lt;/span&gt;::&lt;span class=&quot;constant&quot;&gt;Audit&lt;/span&gt;::&lt;span class=&quot;constant&quot;&gt;CLI&lt;/span&gt;.new.check
  &lt;span class=&quot;keyword&quot;&gt;end&lt;/span&gt;

  desc &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;Update vulns database and check gems using bundle-audit&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;
  task &lt;span class=&quot;symbol&quot;&gt;:run&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;
    &lt;span class=&quot;constant&quot;&gt;Rake&lt;/span&gt;::&lt;span class=&quot;constant&quot;&gt;Task&lt;/span&gt;[&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;bundle_audit:update&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;].invoke
    &lt;span class=&quot;constant&quot;&gt;Rake&lt;/span&gt;::&lt;span class=&quot;constant&quot;&gt;Task&lt;/span&gt;[&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;bundle_audit:check&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;].invoke
  &lt;span class=&quot;keyword&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;keyword&quot;&gt;end&lt;/span&gt;

task &lt;span class=&quot;symbol&quot;&gt;:bundle_audit&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;
  &lt;span class=&quot;constant&quot;&gt;Rake&lt;/span&gt;::&lt;span class=&quot;constant&quot;&gt;Task&lt;/span&gt;[&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;bundle_audit:run&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;].invoke
&lt;span class=&quot;keyword&quot;&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;It defines a few rasks under the &lt;code&gt;bundle_audit&lt;/code&gt; namespace. Thanks to the modular Ruby code built on top of &lt;a href=&quot;http://whatisthor.com/&quot;&gt;thor&lt;/a&gt; I had no trouble tapping directly into the command-line implementation for &lt;code&gt;bundle-audit&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;highlighter-coderay&quot;&gt;&lt;table class=&quot;CodeRay&quot;&gt;&lt;tr&gt;
  &lt;td class=&quot;line-numbers&quot;&gt;&lt;pre&gt;&lt;a href=&quot;#n1&quot; name=&quot;n1&quot;&gt;1&lt;/a&gt;
&lt;a href=&quot;#n2&quot; name=&quot;n2&quot;&gt;2&lt;/a&gt;
&lt;a href=&quot;#n3&quot; name=&quot;n3&quot;&gt;3&lt;/a&gt;
&lt;a href=&quot;#n4&quot; name=&quot;n4&quot;&gt;4&lt;/a&gt;
&lt;/pre&gt;&lt;/td&gt;
  &lt;td class=&quot;code&quot;&gt;&lt;pre&gt;$ rake -T bundle_audit
rake bundle_audit:check   # Check gems for vulns using bundle-audit
rake bundle_audit:run     # Update vulns database and check gems using bundle-audit
rake bundle_audit:update  # Update bundle-audit database
&lt;/pre&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;Invocation is as easy as you can imagine. On the command-line:&lt;/p&gt;

&lt;div class=&quot;highlighter-coderay&quot;&gt;&lt;table class=&quot;CodeRay&quot;&gt;&lt;tr&gt;
  &lt;td class=&quot;line-numbers&quot;&gt;&lt;pre&gt;&lt;a href=&quot;#n1&quot; name=&quot;n1&quot;&gt;1&lt;/a&gt;
&lt;a href=&quot;#n2&quot; name=&quot;n2&quot;&gt;2&lt;/a&gt;
&lt;a href=&quot;#n3&quot; name=&quot;n3&quot;&gt;3&lt;/a&gt;
&lt;a href=&quot;#n4&quot; name=&quot;n4&quot;&gt;4&lt;/a&gt;
&lt;a href=&quot;#n5&quot; name=&quot;n5&quot;&gt;5&lt;/a&gt;
&lt;a href=&quot;#n6&quot; name=&quot;n6&quot;&gt;6&lt;/a&gt;
&lt;a href=&quot;#n7&quot; name=&quot;n7&quot;&gt;7&lt;/a&gt;
&lt;/pre&gt;&lt;/td&gt;
  &lt;td class=&quot;code&quot;&gt;&lt;pre&gt;$ rake bundle_audit:run
Updating ruby-advisory-db ...
From https://github.com/rubysec/ruby-advisory-db
 * branch            master     -&amp;gt; FETCH_HEAD
Already up-to-date.
ruby-advisory-db: 108 advisories
No unpatched versions found
&lt;/pre&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;As you can see this does two things. First, it updates your local copy of the &lt;a href=&quot;https://github.com/rubysec/ruby-advisory-db&quot;&gt;ruby-advisory-db&lt;/a&gt;. Then it scans your gem dependency graph looking for unpatched dependencies. What you see above is the output when everything is OK.&lt;/p&gt;

&lt;p&gt;I also incorporated the check into my &lt;code&gt;rake test&lt;/code&gt; task, because I want my tests to fail if I&#39;m shipping with vulnerable dependencies. Here&#39;s what I have going on in &lt;code&gt;lib/tasks/test.rake&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;highlighter-coderay&quot;&gt;&lt;table class=&quot;CodeRay&quot;&gt;&lt;tr&gt;
  &lt;td class=&quot;line-numbers&quot;&gt;&lt;pre&gt;&lt;a href=&quot;#n1&quot; name=&quot;n1&quot;&gt;1&lt;/a&gt;
&lt;a href=&quot;#n2&quot; name=&quot;n2&quot;&gt;2&lt;/a&gt;
&lt;a href=&quot;#n3&quot; name=&quot;n3&quot;&gt;3&lt;/a&gt;
&lt;a href=&quot;#n4&quot; name=&quot;n4&quot;&gt;4&lt;/a&gt;
&lt;a href=&quot;#n5&quot; name=&quot;n5&quot;&gt;5&lt;/a&gt;
&lt;a href=&quot;#n6&quot; name=&quot;n6&quot;&gt;6&lt;/a&gt;
&lt;a href=&quot;#n7&quot; name=&quot;n7&quot;&gt;7&lt;/a&gt;
&lt;a href=&quot;#n8&quot; name=&quot;n8&quot;&gt;8&lt;/a&gt;
&lt;a href=&quot;#n9&quot; name=&quot;n9&quot;&gt;9&lt;/a&gt;
&lt;strong&gt;&lt;a href=&quot;#n10&quot; name=&quot;n10&quot;&gt;10&lt;/a&gt;&lt;/strong&gt;
&lt;a href=&quot;#n11&quot; name=&quot;n11&quot;&gt;11&lt;/a&gt;
&lt;a href=&quot;#n12&quot; name=&quot;n12&quot;&gt;12&lt;/a&gt;
&lt;a href=&quot;#n13&quot; name=&quot;n13&quot;&gt;13&lt;/a&gt;
&lt;a href=&quot;#n14&quot; name=&quot;n14&quot;&gt;14&lt;/a&gt;
&lt;a href=&quot;#n15&quot; name=&quot;n15&quot;&gt;15&lt;/a&gt;
&lt;a href=&quot;#n16&quot; name=&quot;n16&quot;&gt;16&lt;/a&gt;
&lt;a href=&quot;#n17&quot; name=&quot;n17&quot;&gt;17&lt;/a&gt;
&lt;a href=&quot;#n18&quot; name=&quot;n18&quot;&gt;18&lt;/a&gt;
&lt;a href=&quot;#n19&quot; name=&quot;n19&quot;&gt;19&lt;/a&gt;
&lt;strong&gt;&lt;a href=&quot;#n20&quot; name=&quot;n20&quot;&gt;20&lt;/a&gt;&lt;/strong&gt;
&lt;a href=&quot;#n21&quot; name=&quot;n21&quot;&gt;21&lt;/a&gt;
&lt;a href=&quot;#n22&quot; name=&quot;n22&quot;&gt;22&lt;/a&gt;
&lt;/pre&gt;&lt;/td&gt;
  &lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;comment&quot;&gt;# Remove the Rails defaults.&lt;/span&gt;
&lt;span class=&quot;constant&quot;&gt;Rake&lt;/span&gt;::&lt;span class=&quot;constant&quot;&gt;Task&lt;/span&gt;[&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;test:all&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;].clear
&lt;span class=&quot;constant&quot;&gt;Rake&lt;/span&gt;::&lt;span class=&quot;constant&quot;&gt;Task&lt;/span&gt;[&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;test:all:db&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;].clear
&lt;span class=&quot;constant&quot;&gt;Rake&lt;/span&gt;::&lt;span class=&quot;constant&quot;&gt;Task&lt;/span&gt;[&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;test:db&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;].clear
&lt;span class=&quot;constant&quot;&gt;Rake&lt;/span&gt;::&lt;span class=&quot;constant&quot;&gt;Task&lt;/span&gt;[&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;].clear

namespace &lt;span class=&quot;symbol&quot;&gt;:test&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;
  desc &lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;Run all tests&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;
  task &lt;span class=&quot;key&quot;&gt;all&lt;/span&gt;: &lt;span class=&quot;symbol&quot;&gt;:environment&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;
    &lt;span class=&quot;constant&quot;&gt;Rake&lt;/span&gt;::&lt;span class=&quot;constant&quot;&gt;Task&lt;/span&gt;[&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;bundle_audit&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;].invoke
    &lt;span class=&quot;constant&quot;&gt;Rake&lt;/span&gt;::&lt;span class=&quot;constant&quot;&gt;Task&lt;/span&gt;[&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;brakeman:run&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;].invoke
    &lt;span class=&quot;constant&quot;&gt;Rake&lt;/span&gt;::&lt;span class=&quot;constant&quot;&gt;Task&lt;/span&gt;[&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;rubocop&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;].invoke
    &lt;span class=&quot;constant&quot;&gt;Rake&lt;/span&gt;::&lt;span class=&quot;constant&quot;&gt;Task&lt;/span&gt;[&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;].invoke
  &lt;span class=&quot;keyword&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;keyword&quot;&gt;end&lt;/span&gt;

task &lt;span class=&quot;symbol&quot;&gt;:test&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt;
  &lt;span class=&quot;constant&quot;&gt;Rake&lt;/span&gt;::&lt;span class=&quot;constant&quot;&gt;Task&lt;/span&gt;[&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;test:all&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;].invoke
&lt;span class=&quot;keyword&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;comment&quot;&gt;# Running `rake` should run all my tests.&lt;/span&gt;
task &lt;span class=&quot;key&quot;&gt;default&lt;/span&gt;: &lt;span class=&quot;symbol&quot;&gt;:test&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;Since this is part of my testing expectations I can also rest easy because my continuous integration tool has my back on every change, too.&lt;/p&gt;

  &lt;p&gt;&lt;a href=&quot;http://caseywest.com/run-bundle-audit-from-rake/&quot;&gt;Run bundle-audit from rake&lt;/a&gt; was originally published by Casey West at &lt;a href=&quot;http://caseywest.com&quot;&gt;The consensus-seeking architect.&lt;/a&gt; on January 03, 2015.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[2014's Podcast Recommendations]]></title>
 <link rel="alternate" type="text/html" href="http://caseywest.com/2014-s-podcast-recommendations/" />
  <id>http://caseywest.com/2014-s-podcast-recommendations</id>
  <updated>2014-12-31 18:42:03 -0500T00:00:00-00:00</updated>
  <published>2014-12-31T00:00:00-05:00</published>
  
  <author>
    <name>Casey West</name>
    <uri>http://caseywest.com</uri>
    <email></email>
  </author>
  <content type="html">&lt;p&gt;I listen to podcasts a lot. My gift to you for the new year is a selection of podcasts I really enjoyed in 2014.&lt;/p&gt;

&lt;p&gt;My recommendations are all audio-only because I&#39;m often listening during a commute, shower, walk, or as I&#39;m falling asleep. What did I miss?&lt;/p&gt;

&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#storytelling&quot;&gt;Storytelling&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#serialhttpserialpodcastorg-by-this-american-life&quot;&gt;&lt;a href=&quot;http://serialpodcast.org/&quot;&gt;Serial&lt;/a&gt; by This American Life&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#this-american-lifehttpwwwthisamericanlifeorgpodcast&quot;&gt;&lt;a href=&quot;http://www.thisamericanlife.org/podcast&quot;&gt;This American Life&lt;/a&gt;&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#welcome-to-night-valehttppodbayfmshow536258179-by-commonplace-bookshttpcommonplacebookscom&quot;&gt;&lt;a href=&quot;http://podbay.fm/show/536258179&quot;&gt;Welcome to Night Vale&lt;/a&gt; by &lt;a href=&quot;http://commonplacebooks.com/&quot;&gt;Commonplace Books&lt;/a&gt;&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#radiolabhttpwwwradiolaborgseriespodcasts-by-wnychttpwwwwnycorg&quot;&gt;&lt;a href=&quot;http://www.radiolab.org/series/podcasts/&quot;&gt;Radiolab&lt;/a&gt; by &lt;a href=&quot;http://www.wnyc.org/&quot;&gt;WNYC&lt;/a&gt;&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#reply-allhttpgimletmediacomshowreply-all-by-gimlet-media&quot;&gt;&lt;a href=&quot;http://gimletmedia.com/show/reply-all/&quot;&gt;Reply All&lt;/a&gt; by Gimlet Media&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#startuphttpgimletmediacomshowstartup-by-gimlet-mediahttpgimletmediacom&quot;&gt;&lt;a href=&quot;http://gimletmedia.com/show/startup/&quot;&gt;StartUp&lt;/a&gt; by &lt;a href=&quot;http://gimletmedia.com/&quot;&gt;Gimlet Media&lt;/a&gt;&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#selected-shortshttpwwwselectedshortsorgpodcast-by-pri&quot;&gt;&lt;a href=&quot;http://www.selectedshorts.org/podcast/&quot;&gt;Selected Shorts&lt;/a&gt; by PRI&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#ted-radio-hourhttpwwwnprorgrsspodcastpodcastdetailphpsiteid151446218-by-npr&quot;&gt;&lt;a href=&quot;http://www.npr.org/rss/podcast/podcast_detail.php?siteId=151446218&quot;&gt;TED Radio Hour&lt;/a&gt; by NPR&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#ideas&quot;&gt;Ideas&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#ted-talks-audiohttpsitunesapplecomuspodcasttedtalks-audioid160904630&quot;&gt;&lt;a href=&quot;https://itunes.apple.com/us/podcast/tedtalks-audio/id160904630&quot;&gt;TED Talks Audio&lt;/a&gt;&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#ruby5httpruby5envylabscom&quot;&gt;&lt;a href=&quot;http://ruby5.envylabs.com/&quot;&gt;Ruby5&lt;/a&gt;&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#the-ruby-rogueshttpdevchattvruby-rogues-by-devchattvhttpdevchattv&quot;&gt;&lt;a href=&quot;http://devchat.tv/ruby-rogues&quot;&gt;The Ruby Rogues&lt;/a&gt; by &lt;a href=&quot;http://devchat.tv/&quot;&gt;DevChat.TV&lt;/a&gt;&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#the-changeloghttpthechangelogcom&quot;&gt;&lt;a href=&quot;http://thechangelog.com/&quot;&gt;The ChangeLog&lt;/a&gt;&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#current-events&quot;&gt;Current Events&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#wait-wait-dont-tell-mehttpwwwnprorgrsspodcastpodcastdetailphpsiteid344098540-by-npr&quot;&gt;&lt;a href=&quot;http://www.npr.org/rss/podcast/podcast_detail.php?siteId=344098540&quot;&gt;Wait Wait… Don&#39;t Tell Me!&lt;/a&gt; by NPR&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#the-rachel-maddow-showhttpwwwnbcnewscomid8132577tget-podcasts-nbc-news-msnbc-tv-nbcnewscomvksl4rf8v8-on-msnbc&quot;&gt;&lt;a href=&quot;http://www.nbcnews.com/id/8132577/t/get-podcasts-nbc-news-msnbc-tv-nbcnewscom/#.VKSL_4rF8v8&quot;&gt;The Rachel Maddow Show&lt;/a&gt; on MSNBC&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;storytelling&quot;&gt;Storytelling&lt;/h1&gt;

&lt;h2 id=&quot;serialhttpserialpodcastorg-by-this-american-life&quot;&gt;&lt;a href=&quot;http://serialpodcast.org/&quot;&gt;Serial&lt;/a&gt; by This American Life&lt;/h2&gt;

&lt;p&gt;This is obviously the breakout show of the year and it definitely got to me. &lt;a href=&quot;https://firstlook.org/theintercept/2014/12/29/exclusive-interview-jay-wilds-star-witness-adnan-syed-serial-case-pt-1/&quot;&gt;The post-series interview with Jay&lt;/a&gt; definitely keeps the mystery alive.&lt;/p&gt;

&lt;h2 id=&quot;this-american-lifehttpwwwthisamericanlifeorgpodcast&quot;&gt;&lt;a href=&quot;http://www.thisamericanlife.org/podcast&quot;&gt;This American Life&lt;/a&gt;&lt;/h2&gt;

&lt;p&gt;An essential standard.&lt;/p&gt;

&lt;h2 id=&quot;welcome-to-night-valehttppodbayfmshow536258179-by-commonplace-bookshttpcommonplacebookscom&quot;&gt;&lt;a href=&quot;http://podbay.fm/show/536258179&quot;&gt;Welcome to Night Vale&lt;/a&gt; by &lt;a href=&quot;http://commonplacebooks.com/&quot;&gt;Commonplace Books&lt;/a&gt;&lt;/h2&gt;

&lt;p&gt;A slightly creepy news cast about a slightly creepy town. Goodnight, Night Vale. Goodnight.&lt;/p&gt;

&lt;h2 id=&quot;radiolabhttpwwwradiolaborgseriespodcasts-by-wnychttpwwwwnycorg&quot;&gt;&lt;a href=&quot;http://www.radiolab.org/series/podcasts/&quot;&gt;Radiolab&lt;/a&gt; by &lt;a href=&quot;http://www.wnyc.org/&quot;&gt;WNYC&lt;/a&gt;&lt;/h2&gt;

&lt;p&gt;Great storytelling on a wide range of subjects.&lt;/p&gt;

&lt;h2 id=&quot;reply-allhttpgimletmediacomshowreply-all-by-gimlet-media&quot;&gt;&lt;a href=&quot;http://gimletmedia.com/show/reply-all/&quot;&gt;Reply All&lt;/a&gt; by Gimlet Media&lt;/h2&gt;

&lt;p&gt;Like it says, a show about the Internet. Fascinating stories about how the Internet shapes us and how we shape it.&lt;/p&gt;

&lt;h2 id=&quot;startuphttpgimletmediacomshowstartup-by-gimlet-mediahttpgimletmediacom&quot;&gt;&lt;a href=&quot;http://gimletmedia.com/show/startup/&quot;&gt;StartUp&lt;/a&gt; by &lt;a href=&quot;http://gimletmedia.com/&quot;&gt;Gimlet Media&lt;/a&gt;&lt;/h2&gt;

&lt;p&gt;A series (like Serial) of episodes recording the journey of one entrepreneur trying to start up.&lt;/p&gt;

&lt;h2 id=&quot;selected-shortshttpwwwselectedshortsorgpodcast-by-pri&quot;&gt;&lt;a href=&quot;http://www.selectedshorts.org/podcast/&quot;&gt;Selected Shorts&lt;/a&gt; by PRI&lt;/h2&gt;

&lt;p&gt;Short fiction read by actors. Makes me feel like the golden age of radio might still have a place.&lt;/p&gt;

&lt;h2 id=&quot;ted-radio-hourhttpwwwnprorgrsspodcastpodcastdetailphpsiteid151446218-by-npr&quot;&gt;&lt;a href=&quot;http://www.npr.org/rss/podcast/podcast_detail.php?siteId=151446218&quot;&gt;TED Radio Hour&lt;/a&gt; by NPR&lt;/h2&gt;

&lt;p&gt;This is an excellent mashup between TED talks and storytelling, often going behind the scenes or deeper into subjects presented at TED events.&lt;/p&gt;

&lt;h1 id=&quot;ideas&quot;&gt;Ideas&lt;/h1&gt;

&lt;h2 id=&quot;ted-talks-audiohttpsitunesapplecomuspodcasttedtalks-audioid160904630&quot;&gt;&lt;a href=&quot;https://itunes.apple.com/us/podcast/tedtalks-audio/id160904630&quot;&gt;TED Talks Audio&lt;/a&gt;&lt;/h2&gt;

&lt;p&gt;These folks are so awesome they compiled all the episodes available into a &lt;a href=&quot;http://blog.ted.com/2010/06/17/audio_podcasts/&quot;&gt;Google Spreadsheet&lt;/a&gt;. I prefer the audio format for listening on the go, but each episode does suggest &lt;em&gt;&quot;This talk contains powerful visuals.&quot;&lt;/em&gt;&lt;/p&gt;

&lt;h2 id=&quot;ruby5httpruby5envylabscom&quot;&gt;&lt;a href=&quot;http://ruby5.envylabs.com/&quot;&gt;Ruby5&lt;/a&gt;&lt;/h2&gt;

&lt;p&gt;Get five minutes of curated news about the Ruby and Ruby on Rails community twice a week (Tuesdays and Fridays).&lt;/p&gt;

&lt;h2 id=&quot;the-ruby-rogueshttpdevchattvruby-rogues-by-devchattvhttpdevchattv&quot;&gt;&lt;a href=&quot;http://devchat.tv/ruby-rogues&quot;&gt;The Ruby Rogues&lt;/a&gt; by &lt;a href=&quot;http://devchat.tv/&quot;&gt;DevChat.TV&lt;/a&gt;&lt;/h2&gt;

&lt;p&gt;I have to be honest: this is hit or miss. In the last few months, though, it&#39;s been more hits than misses. I like the regulars on the show and someday I hope to be grilled by them about technical leadership. If I am so lucky…&lt;/p&gt;

&lt;h2 id=&quot;the-changeloghttpthechangelogcom&quot;&gt;&lt;a href=&quot;http://thechangelog.com/&quot;&gt;The ChangeLog&lt;/a&gt;&lt;/h2&gt;

&lt;p&gt;I like how polyglot this podcast is. Lots of communities get play including, for the first time, Perl just a couple weeks ago. Their [website] also has a nice link blog of interesting open source projects. Keep an eye on it.&lt;/p&gt;

&lt;h1 id=&quot;current-events&quot;&gt;Current Events&lt;/h1&gt;

&lt;h2 id=&quot;wait-wait-dont-tell-mehttpwwwnprorgrsspodcastpodcastdetailphpsiteid344098540-by-npr&quot;&gt;&lt;a href=&quot;http://www.npr.org/rss/podcast/podcast_detail.php?siteId=344098540&quot;&gt;Wait Wait… Don&#39;t Tell Me!&lt;/a&gt; by NPR&lt;/h2&gt;

&lt;p&gt;Family favorite every weekend.&lt;/p&gt;

&lt;h2 id=&quot;the-rachel-maddow-showhttpwwwnbcnewscomid8132577tget-podcasts-nbc-news-msnbc-tv-nbcnewscomvksl4rf8v8-on-msnbc&quot;&gt;&lt;a href=&quot;http://www.nbcnews.com/id/8132577/t/get-podcasts-nbc-news-msnbc-tv-nbcnewscom/#.VKSL_4rF8v8&quot;&gt;The Rachel Maddow Show&lt;/a&gt; on MSNBC&lt;/h2&gt;

&lt;p&gt;Scroll to the bottom of that page for podcast subscription links. &lt;em&gt;Warning: political alignment obvious.&lt;/em&gt;&lt;/p&gt;


  &lt;p&gt;&lt;a href=&quot;http://caseywest.com/2014-s-podcast-recommendations/&quot;&gt;2014's Podcast Recommendations&lt;/a&gt; was originally published by Casey West at &lt;a href=&quot;http://caseywest.com&quot;&gt;The consensus-seeking architect.&lt;/a&gt; on December 31, 2014.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[Hootsuite Has Best Response to Criticism]]></title>
 <link rel="alternate" type="text/html" href="https://www.youtube.com/watch?v=bXizarnDodE" />
  <id>http://caseywest.com/hootsuite-has-best-response-to-criticism</id>
  <updated>2014-12-30 15:22:50 -0500T00:00:00-00:00</updated>
  <published>2014-12-30T00:00:00-05:00</published>
  
  <author>
    <name>Casey West</name>
    <uri>http://caseywest.com</uri>
    <email></email>
  </author>
  <content type="html">&lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;http://www.youtube.com/embed/bXizarnDodE&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;

&lt;p&gt;This is the gold standard. Customers were unhappy. Hootsuite heard them, were awesomely transparent, and did something about it.&lt;/p&gt;

&lt;p&gt;I have a thing for transparency. I think it makes most situations better. It takes courage to be open about shortcomings, even as a team, and to address them in the open. What Hootsuite did here is wonderful, and can be applied to any software team&#39;s circumstances.&lt;/p&gt;

&lt;p&gt;Maybe you are one of many teams in a large company and you want to be more transparent than the current culture accepts, or maybe like Hootsuite it&#39;s your whole company. Either way I encourage you to have the courage to be as transparent as possible and get other people to join in. It&#39;s liberating, and it&#39;s much less work than the alternative.&lt;/p&gt;

&lt;p&gt;With this kind of response Hootsuite shows they&#39;re open and accepting of criticism and they&#39;ll do something about it. They proved it&#39;s safe to give them feedback. Encouraged, even. They now have a reputation for courage and conviction, and for caring more about what they do than protecting themselves. That&#39;s one hell of a great reputation to build.&lt;/p&gt;

&lt;p&gt;Their CEO, Ryan Holmes, wrote more about it &lt;a href=&quot;https://www.linkedin.com/pulse/20141113221604-2967511--your-product-is-a-piece-of-sh-t-how-my-company-responded-to-this-tweet?trk=mp-reader-card&quot;&gt;on LinkedIn.&lt;/a&gt;&lt;/p&gt;

  &lt;p&gt;&lt;a href=&quot;http://caseywest.com/hootsuite-has-best-response-to-criticism/&quot;&gt;Hootsuite Has Best Response to Criticism&lt;/a&gt; was originally published by Casey West at &lt;a href=&quot;http://caseywest.com&quot;&gt;The consensus-seeking architect.&lt;/a&gt; on December 30, 2014.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[Integrated Tests Are a Scam]]></title>
 <link rel="alternate" type="text/html" href="http://vimeo.com/80533536" />
  <id>http://caseywest.com/integrated-tests-are-a-scam</id>
  <published>2014-12-29T14:24:02-05:00</published>
  <updated>2014-12-29T14:24:02-05:00</updated>
  <author>
    <name>Casey West</name>
    <uri>http://caseywest.com</uri>
    <email></email>
  </author>
  <content type="html">&lt;p&gt;This is an excellent conference talk laying out the core problem with reliance on integrated tests&lt;sup id=&quot;fnref:integrated_tests&quot;&gt;&lt;a href=&quot;#fn:integrated_tests&quot; class=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;. I&#39;ve seen this problem at several companies. Here are the steps to reproduce:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Build a complicated system organically.&lt;/li&gt;
  &lt;li&gt;Observe quality degrade.&lt;/li&gt;
  &lt;li&gt;Declare testing a panacea.&lt;/li&gt;
  &lt;li&gt;Build a large, QA-lead integrated test suite at great cost.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Now a huge, brittle test suite exists which provides no direct value to development, where it&#39;s needed most, and doesn&#39;t address the root problem: poor system design.&lt;/p&gt;

&lt;h2 id=&quot;integrated-test-hell&quot;&gt;Integrated test hell.&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;http://www.jbrains.ca/&quot;&gt;J.B. Rainsberger&lt;/a&gt; describes the problem well. If your project has a monolithic, external test suite which relies on the entire architecture to run you are in this special hell right now. The clearest representation I can think of is his explanation of how many tests you&#39;d have to write to get value out of an &lt;em&gt;integrated tests&lt;/em&gt; versus &lt;em&gt;isolated tests&lt;/em&gt;&lt;sup id=&quot;fnref:isolated_tests&quot;&gt;&lt;a href=&quot;#fn:isolated_tests&quot; class=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;

&lt;p&gt;A software architecture with a few interconnected components (lets say, for example: a database, REST API, UI, Job Queue) requires tests for each function of each component. If we&#39;re relying on &lt;em&gt;integrated tests&lt;/em&gt; we have to write tests to exercise every function of every component, and every combination of connections between every function of every component. As you write that software you need to write &lt;script type=&quot;math/tex&quot;&gt; O(n!) &lt;/script&gt; integrated tests. You can&#39;t write that many tests. You don&#39;t have enough time to write enough tests to have confidence in that system. That&#39;s scary. &lt;strong&gt;That&#39;s impossible.&lt;/strong&gt;&lt;/p&gt;

&lt;h2 id=&quot;the-cycle&quot;&gt;The cycle.&lt;/h2&gt;

&lt;p&gt;I love this because it&#39;s clear and true. We&#39;ve all seen this run-on sentence loop:&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;100% of our integrated tests pass but there&#39;s a mistake&lt;sup id=&quot;fnref:mistake&quot;&gt;&lt;a href=&quot;#fn:mistake&quot; class=&quot;footnote&quot;&gt;3&lt;/a&gt;&lt;/sup&gt; in our software&lt;/strong&gt;; so we write more integrated tests to fill in the cracks which allows us to design more sloppily and gives us more opportunities for mistakes, and spending time on integrated tests means less time for isolated tests which increases the likelihood that &lt;strong&gt;100% of the tests pass but we still have mistakes.&lt;/strong&gt;&lt;/p&gt;

&lt;h2 id=&quot;what-should-you-do-about-this&quot;&gt;What should you do about this?&lt;/h2&gt;

&lt;p&gt;There is a strong correlation between large numbers of integrated tests and design problems. Integrated tests don&#39;t offer any pressure to improve our designs. Isolated tests do. Stop pretending integrated tests are helping you. Write isolated tests. &lt;/p&gt;

&lt;p&gt;To quote J.B.:&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;pullquote-right&quot; data-pullquote=&quot;the whole point of test driven development is not to do testing; it&amp;apos;s to learn about the quality of our design&quot;&gt; 
&lt;em&gt;The real benefit of isolated tests — testing one function at a time — is that those tests put tremendous pressure on our designs. Those tests are the ones that make it most clear where our design problems are. &lt;strong&gt;Remember that the whole point of test driven development is not to do testing; it&#39;s to learn about the quality of our design.&lt;/strong&gt; We use the theory that if our design has problems then the tests will be hard to write. The tests will be hard to understand. It&#39;ll be difficult to write these small, isolated tests to check one thing at a time.&lt;/em&gt;
&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;If you have more &lt;em&gt;isolated tests&lt;/em&gt; than &lt;em&gt;integrated tests&lt;/em&gt; chances are you have a decent design with clear interfaces and contracts between collaborating systems. This path is cheaper, faster, less likely to allow mistakes, and provides high-bandwith feedback on the quality of your software design. As you write this software you need to write &lt;script type=&quot;math/tex&quot;&gt; O(n) &lt;/script&gt; isolated tests.&lt;/p&gt;

&lt;p&gt;You don&#39;t have to multiply the code paths in your system to get thorough coverage, you can just add them. You go from a combinatorial explosion of tests-to-code-paths to a linear increase in tests. &lt;strong&gt;That&#39;s possible.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;There&#39;s a lot of gold in this talk. Watch it. Twice!&lt;/p&gt;

&lt;iframe width=&quot;500&quot; height=&quot;281&quot; src=&quot;http://player.vimeo.com/video/80533536 &quot; frameborder=&quot;0&quot; webkitallowfullscreen=&quot;&quot; mozallowfullscreen=&quot;&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;

&lt;div class=&quot;footnotes&quot;&gt;
  &lt;ol&gt;
    &lt;li id=&quot;fn:integrated_tests&quot;&gt;
      &lt;p&gt;Not to be confused with &lt;em&gt;integration tests&lt;/em&gt; (referred to in this talk as &lt;em&gt;collaboration tests&lt;/em&gt;). Integrated tests require a complete, integrated architecture to run. &lt;em&gt;Integration tests&lt;/em&gt; simply test the collaboration between independent components. &lt;a href=&quot;#fnref:integrated_tests&quot; class=&quot;reversefootnote&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:isolated_tests&quot;&gt;
      &lt;p&gt;&lt;em&gt;Isolated tests&lt;/em&gt; is a good name for tests operating on a specific function within a software architecture which exercise that function directly, in isolation, independent of any external collaborators in the architecture. &lt;a href=&quot;#fnref:isolated_tests&quot; class=&quot;reversefootnote&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:mistake&quot;&gt;
      &lt;p&gt;Sometimes we call these defects or bugs; I agree with the speaker that&#39;s too abstract. It&#39;s a human error (more likely a series of human errors). Everywhere else in the world we call those mistakes. &lt;a href=&quot;#fnref:mistake&quot; class=&quot;reversefootnote&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;

  &lt;p&gt;&lt;a href=&quot;http://caseywest.com/integrated-tests-are-a-scam/&quot;&gt;Integrated Tests Are a Scam&lt;/a&gt; was originally published by Casey West at &lt;a href=&quot;http://caseywest.com&quot;&gt;The consensus-seeking architect.&lt;/a&gt; on December 29, 2014.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[Your Software Is Made of People]]></title>
 <link rel="alternate" type="text/html" href="http://caseywest.com/your-software-is-made-of-people/" />
  <id>http://caseywest.com/your-software-is-made-of-people</id>
  <published>2014-12-24T10:00:22-05:00</published>
  <updated>2014-12-24T10:00:22-05:00</updated>
  <author>
    <name>Casey West</name>
    <uri>http://caseywest.com</uri>
    <email></email>
  </author>
  <content type="html">&lt;p&gt;I was talking with someone the other day about my time as (Interim) VP of Engineering at &lt;a href=&quot;http://socialtext.com&quot;&gt;Socialtext&lt;/a&gt;. Did I enjoy that? The question was framed like this: some people just like doing things and not dealing with the social aspects of management. But I wonder, are they really much different?&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Originally published by me on &lt;a href=&quot;https://web.archive.org/web/20090416185738/http://caseywest.com/2009/03/25/your-software-is-made-of-people/&quot;&gt;March 25, 2009&lt;/a&gt; and reprinted here as-is.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Software development is creating, maintaining, and evolving a system. Use whatever action verb you like, you are working with a system. That system can be made better or worse by your actions. If you fix a bug the system is better. Remove a networking bottleneck? Better. Introduce a needless database query on every iteration of a loop? Worse.&lt;/p&gt;

&lt;p&gt;Software doesn’t work in isolation. The system is bigger than that. If you increase the memory requirements for your software the servers had better have enough memory to manage it. If you rewrite your code in Python a host of changes are required to make that change possible.&lt;/p&gt;

&lt;p&gt;How are teams much different? Leading a team requires the creation, maintenance, and evolution of a system. Again, you can make it better or worse. Help a peer solve a problem with a better tool then your system is better. Reduce needless process? Better. Introduce a needless process on every iteration of development? Worse.&lt;/p&gt;

&lt;p&gt;I think both people and technology are irrevocably intertwined. In fact, hacking on one and not the other will cause the performance of both to suffer. This is called &lt;a href=&quot;http://en.wikipedia.org/wiki/Sociotechnical_systems_theory&quot;&gt;Sociotechnical Systems Theory&lt;/a&gt;.&lt;/p&gt;

&lt;h1 id=&quot;joint-optimization&quot;&gt;Joint Optimization&lt;/h1&gt;

&lt;p&gt;A team survives - and eventually thrives - through the &lt;em&gt;joint optimization&lt;/em&gt; of their sociological and technological systems. Improving one alone often leads to recessive tendencies in the other. The nature of a team is the symbiotic relationship between its people and technology systems. Success can’t be realized by improving technology alone.&lt;/p&gt;

&lt;p&gt;This concept is often hard for everyone. Technologists find it easy to ignore social aspects of an organization. Non-technical specialists are reluctant to consider the artificial reality of technical objects like software. So it can be hard to consider both technical and social aspects of a system.&lt;/p&gt;

&lt;p&gt;The delivery of meaningful value to customers requires the actions of both people and technical objects. One can’t improve without the other. &lt;a href=&quot;http://scholar.lib.vt.edu/ejournals/SPT/v4_n3html/ROPOHL.html&quot;&gt;Technical achievement is equally as important as social advancement.&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;people-are-part-of-technical-strategy&quot;&gt;People are (part of) Technical Strategy&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;http://alexandria.tue.nl/extra2/200211694.pdf&quot;&gt;Hacking on the social realities in your technology team has strategic value.&lt;/a&gt; A healthy team can do more than generate fantastic technological innovations because a healthy team can more accurately assess the environment they’re in. A viable business strategy can’t simply focus on organizational capabilities as most technologists are prone to do. The environment your team operates in isn’t the primary strategic factor as many non-technical specialists see it.&lt;/p&gt;

&lt;p&gt;The decision isn’t either/or among organizational capability and environmental reality. The winning strategy is both/and: react to environmental realities within the context of current and improved organizational capabilities.&lt;/p&gt;

&lt;h2 id=&quot;the-api-is-different&quot;&gt;The API is Different&lt;/h2&gt;

&lt;p&gt;The major difference between people and software on a technical team is the API. You’re still debugging, refactoring, creating, evolving, and removing what you don’t need. As a technical team leader you need to talk to both types of interfaces. The API is very different for debugging people vs. debugging software.&lt;/p&gt;

&lt;p&gt;If you want to build world class software you have to build a world class team.&lt;/p&gt;

&lt;p&gt;This is also why it’s hard for a star programmer to become a star manager. They never spent time learning the People API.&lt;/p&gt;

&lt;h2 id=&quot;footnote&quot;&gt;Footnote&lt;/h2&gt;

&lt;p&gt;Some of this thinking was done as research for a previous company. I was asked in appropriately vague terms how to fix our software delivery process. The pain was that it took months to get even the smallest changes to the customer. When I searched for the root of the problem it became clear there were two intertwined problems: one technical and the other social.&lt;/p&gt;

&lt;p&gt;Half the company was looking for a quick technical fix that would make it all better. The other half wanted to add process to over come the social issues. It was obvious to me we would have to fix both if we really wanted to solve the problem. Any solution that ignored the fact that we were a socio-technical organization was lacking.&lt;/p&gt;

  &lt;p&gt;&lt;a href=&quot;http://caseywest.com/your-software-is-made-of-people/&quot;&gt;Your Software Is Made of People&lt;/a&gt; was originally published by Casey West at &lt;a href=&quot;http://caseywest.com&quot;&gt;The consensus-seeking architect.&lt;/a&gt; on December 24, 2014.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[hello, world]]></title>
 <link rel="alternate" type="text/html" href="http://caseywest.com/hello-world/" />
  <id>http://caseywest.com/hello-world</id>
  <published>2014-12-24T09:40:52-05:00</published>
  <updated>2014-12-24T09:40:52-05:00</updated>
  <author>
    <name>Casey West</name>
    <uri>http://caseywest.com</uri>
    <email></email>
  </author>
  <content type="html">&lt;p&gt;As most of us know by now it was Brian Kernighan who wrote the first known &lt;a href=&quot;https://en.wikipedia.org/wiki/%22Hello,_world!%22_program&quot;&gt;hello, world&lt;/a&gt; program:&lt;/p&gt;

&lt;div class=&quot;highlighter-coderay&quot;&gt;&lt;table class=&quot;CodeRay&quot;&gt;&lt;tr&gt;
  &lt;td class=&quot;line-numbers&quot;&gt;&lt;pre&gt;&lt;a href=&quot;#n1&quot; name=&quot;n1&quot;&gt;1&lt;/a&gt;
&lt;a href=&quot;#n2&quot; name=&quot;n2&quot;&gt;2&lt;/a&gt;
&lt;a href=&quot;#n3&quot; name=&quot;n3&quot;&gt;3&lt;/a&gt;
&lt;/pre&gt;&lt;/td&gt;
  &lt;td class=&quot;code&quot;&gt;&lt;pre&gt;main( ) {
        printf(&lt;span class=&quot;string&quot;&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;content&quot;&gt;hello, world&lt;/span&gt;&lt;span class=&quot;delimiter&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;);
}
&lt;/pre&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;Hello, world!&lt;/p&gt;

  &lt;p&gt;&lt;a href=&quot;http://caseywest.com/hello-world/&quot;&gt;hello, world&lt;/a&gt; was originally published by Casey West at &lt;a href=&quot;http://caseywest.com&quot;&gt;The consensus-seeking architect.&lt;/a&gt; on December 24, 2014.&lt;/p&gt;</content>
</entry>

</feed>
