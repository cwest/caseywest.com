<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Integrated Tests Are a Scam &#8211; Corner of Weeping</title>
<meta name="description" content="The point of test driven development is not to do testing; it's to learn about the quality of our design.">
<meta name="keywords" content="software, design, architecture, testing">

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://caseywest.com/images/feature/feature-painted-pittsburgh.jpg">

<meta name="twitter:title" content="Integrated Tests Are a Scam">
<meta name="twitter:description" content="The point of test driven development is not to do testing; it's to learn about the quality of our design.">
<meta name="twitter:creator" content="@caseywest">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Integrated Tests Are a Scam">
<meta property="og:description" content="The point of test driven development is not to do testing; it's to learn about the quality of our design.">
<meta property="og:url" content="http://caseywest.com/integrated-tests-are-a-scam/">
<meta property="og:site_name" content="Corner of Weeping">





<link rel="canonical" href="http://caseywest.com/integrated-tests-are-a-scam/">
<link href="http://caseywest.com/feed.xml" type="application/atom+xml" rel="alternate" title="Corner of Weeping Feed">
<link rel="author" href="https://google.com/+CaseyWest412?rel=author">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="http://caseywest.com/assets/css/main.css">
<!-- Webfonts -->
<link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,300italic,400italic|Source+Code+Pro" rel="stylesheet" type="text/css">

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="http://caseywest.com/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 32x32 -->
<link rel="shortcut icon" href="http://caseywest.com/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://caseywest.com/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://caseywest.com/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://caseywest.com/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://caseywest.com/images/apple-touch-icon-144x144-precomposed.png">



</head>

<body id="post" class="feature">

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
<nav id="dl-menu" class="dl-menuwrapper" role="navigation">
	<button class="dl-trigger">Open Menu</button>
	<ul class="dl-menu">
		<li><a href="http://caseywest.com/">Home</a></li>
		<li>
			<a href="#">About</a>
			<ul class="dl-submenu">
				<li>
					<img src="http://caseywest.com/images/avatar.jpg" alt="Casey West photo" class="author-photo">
					<h4>Casey West</h4>
					<p>I have a lot to say.</p>
				</li>
				<li><a href="http://caseywest.com/about/"><span class="btn btn-inverse">Learn More</span></a></li>
				
				<li>
					<a href="http://twitter.com/caseywest"><i class="fa fa-twitter"></i> Twitter</a>
				</li>
				<li>
					<a href="http://facebook.com/caseywest"><i class="fa fa-facebook"></i> Facebook</a>
				</li>
				<li>
					<a href="https://google.com/+CaseyWest412"><i class="fa fa-google-plus"></i> Google+</a>
				</li>
				<li>
					<a href="http://linkedin.com/in/caseywest"><i class="fa fa-linkedin"></i> LinkedIn</a>
				</li>
				<li>
					<a href="http://github.com/cwest"><i class="fa fa-github"></i> GitHub</a>
				</li>
				
				<li>
					<a href="http://instagram.com/caseyrwest"><i class="fa fa-instagram"></i> Instagram</a>
				</li>
				<li>
					<a href="http://www.flickr.com/photos/caseywest"><i class="fa fa-flickr"></i> Flickr</a>
				</li>
				
			</ul><!-- /.dl-submenu -->
		</li>
		<li>
			<a href="#">Posts</a>
			<ul class="dl-submenu">
				<li><a href="http://caseywest.com/posts/">All Posts</a></li>
				<li><a href="http://caseywest.com/tags/">All Tags</a></li>
			</ul>
		</li>
		
	</ul><!-- /.dl-menu -->
</nav><!-- /.dl-menuwrapper -->



<div class="entry-header">
  
  <div class="entry-image">
    <img src="http://caseywest.com/images/feature/feature-painted-pittsburgh.jpg" alt="Integrated Tests Are a Scam">
  </div><!-- /.entry-image -->
</div><!-- /.entry-header -->


<div id="main" role="main">
  <article class="hentry">
    <header class="header-title">
      <div class="header-title-wrap">
        
          <h1 class="entry-title"><a href="http://vimeo.com/80533536">
            <i class="fa fa-hand-o-right"></i>&nbsp;Integrated Tests Are a Scam
          </a></h1>
        
        <h2>December 29, 2014</h2>
        
        <p class="entry-reading-time">
          <i class="fa fa-clock-o"></i>
          
          Reading time ~3 minutes
        </p><!-- /.entry-reading-time -->
        
      </div><!-- /.header-title-wrap -->
    </header>
    <div class="entry-content">
      <p>This is an excellent conference talk laying out the core problem with reliance on integrated tests<sup id="fnref:integrated_tests"><a href="#fn:integrated_tests" class="footnote">1</a></sup>. I've seen this problem at several companies. Here are the steps to reproduce:</p>

<ol>
  <li>Build a complicated system organically.</li>
  <li>Observe quality degrade.</li>
  <li>Declare testing a panacea.</li>
  <li>Build a large, QA-lead integrated test suite at great cost.</li>
</ol>

<p>Now a huge, brittle test suite exists which provides no direct value to development, where it's needed most, and doesn't address the root problem: poor system design.</p>

<h2 id="integrated-test-hell">Integrated test hell.</h2>

<p><a href="http://www.jbrains.ca/">J.B. Rainsberger</a> describes the problem well. If your project has a monolithic, external test suite which relies on the entire architecture to run you are in this special hell right now. The clearest representation I can think of is his explanation of how many tests you'd have to write to get value out of an <em>integrated tests</em> versus <em>isolated tests</em><sup id="fnref:isolated_tests"><a href="#fn:isolated_tests" class="footnote">2</a></sup>.</p>

<p>A software architecture with a few interconnected components (lets say, for example: a database, REST API, UI, Job Queue) requires tests for each function of each component. If we're relying on <em>integrated tests</em> we have to write tests to exercise every function of every component, and every combination of connections between every function of every component. As you write that software you need to write <script type="math/tex"> O(n!) </script> integrated tests. You can't write that many tests. You don't have enough time to write enough tests to have confidence in that system. That's scary. <strong>That's impossible.</strong></p>

<h2 id="the-cycle">The cycle.</h2>

<p>I love this because it's clear and true. We've all seen this run-on sentence loop:</p>

<p><strong>100% of our integrated tests pass but there's a mistake<sup id="fnref:mistake"><a href="#fn:mistake" class="footnote">3</a></sup> in our software</strong>; so we write more integrated tests to fill in the cracks which allows us to design more sloppily and gives us more opportunities for mistakes, and spending time on integrated tests means less time for isolated tests which increases the likelihood that <strong>100% of the tests pass but we still have mistakes.</strong></p>

<h2 id="what-should-you-do-about-this">What should you do about this?</h2>

<p>There is a strong correlation between large numbers of integrated tests and design problems. Integrated tests don't offer any pressure to improve our designs. Isolated tests do. Stop pretending integrated tests are helping you. Write isolated tests. </p>

<p>To quote J.B.:</p>

<p><span class="pullquote-right" data-pullquote="the whole point of test driven development is not to do testing; it&apos;s to learn about the quality of our design"> 
<em>The real benefit of isolated tests — testing one function at a time — is that those tests put tremendous pressure on our designs. Those tests are the ones that make it most clear where our design problems are. <strong>Remember that the whole point of test driven development is not to do testing; it's to learn about the quality of our design.</strong> We use the theory that if our design has problems then the tests will be hard to write. The tests will be hard to understand. It'll be difficult to write these small, isolated tests to check one thing at a time.</em>
</span></p>

<p>If you have more <em>isolated tests</em> than <em>integrated tests</em> chances are you have a decent design with clear interfaces and contracts between collaborating systems. This path is cheaper, faster, less likely to allow mistakes, and provides high-bandwith feedback on the quality of your software design. As you write this software you need to write <script type="math/tex"> O(n) </script> isolated tests.</p>

<p>You don't have to multiply the code paths in your system to get thorough coverage, you can just add them. You go from a combinatorial explosion of tests-to-code-paths to a linear increase in tests. <strong>That's possible.</strong></p>

<p>There's a lot of gold in this talk. Watch it. Twice!</p>

<iframe width="500" height="281" src="http://player.vimeo.com/video/80533536 " frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen=""></iframe>

<div class="footnotes">
  <ol>
    <li id="fn:integrated_tests">
      <p>Not to be confused with <em>integration tests</em> (referred to in this talk as <em>collaboration tests</em>). Integrated tests require a complete, integrated architecture to run. <em>Integration tests</em> simply test the collaboration between independent components. <a href="#fnref:integrated_tests" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:isolated_tests">
      <p><em>Isolated tests</em> is a good name for tests operating on a specific function within a software architecture which exercise that function directly, in isolation, independent of any external collaborators in the architecture. <a href="#fnref:isolated_tests" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:mistake">
      <p>Sometimes we call these defects or bugs; I agree with the speaker that's too abstract. It's a human error (more likely a series of human errors). Everywhere else in the world we call those mistakes. <a href="#fnref:mistake" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>

      <footer class="entry-meta">
        <span class="entry-tags"><a href="http://caseywest.com/tags/#software" title="Pages tagged software" class="tag">software</a><a href="http://caseywest.com/tags/#design" title="Pages tagged design" class="tag">design</a><a href="http://caseywest.com/tags/#architecture" title="Pages tagged architecture" class="tag">architecture</a><a href="http://caseywest.com/tags/#testing" title="Pages tagged testing" class="tag">testing</a></span>
        <span><a href="http://caseywest.com/integrated-tests-are-a-scam/" rel="bookmark" title="Integrated Tests Are a Scam">Integrated Tests Are a Scam</a> was published on <span class="entry-date date published updated"><time datetime="2014-12-29T14:24:02-05:00">December 29, 2014</time></span></span>
        
        <span class="author vcard"><span class="fn"><a href="http://caseywest.com/about/" title="About Casey West">Casey West</a></span></span>
        <div class="social-share">
  <ul class="socialcount socialcount-small inline-list">
    <li class="facebook"><a href="https://www.facebook.com/sharer/sharer.php?u=Integrated+Tests+Are+a+Scam%20%E2%80%94%C2%A0http://caseywest.com/integrated-tests-are-a-scam/" title="Share on Facebook"><span class="count"><i class="fa fa-facebook-square"></i> Like</span></a></li>
    <li class="twitter"><a href="https://twitter.com/intent/tweet?text=Integrated+Tests+Are+a+Scam%20%E2%80%94%C2%A0http://caseywest.com/integrated-tests-are-a-scam/" title="Share on Twitter"><span class="count"><i class="fa fa-twitter-square"></i> Tweet</span></a></li>
    <li class="googleplus"><a href="https://plus.google.com/share?url=Integrated+Tests+Are+a+Scam%20%E2%80%94%C2%A0http://caseywest.com/integrated-tests-are-a-scam/" title="Share on Google Plus"><span class="count"><i class="fa fa-google-plus-square"></i> +1</span></a></li>
  </ul>
</div><!-- /.social-share -->

      </footer>
    </div><!-- /.entry-content -->
    
    <div class="read-more">
  
    <div class="read-more-header">
      <a href="http://caseywest.com/your-software-is-made-of-people/" class="read-more-btn">Read More</a>
    </div><!-- /.read-more-header -->
    <div class="read-more-content">
      <h3><a href="http://caseywest.com/2014-s-podcast-recommendations/" title="2014's Podcast Recommendations">2014's Podcast Recommendations</a></h3>
      <p>Here's what I enjoyed. Tell me, what did I miss? <a href="http://caseywest.com/2014-s-podcast-recommendations/">Continue reading</a></p>
    </div><!-- /.read-more-content -->
  
  <div class="read-more-list">
    
      <div class="list-item">
        <h4><a href="http://caseywest.com/hootsuite-has-best-response-to-criticism/" title="Hootsuite Has Best Response to Criticism">Hootsuite Has Best Response to Criticism</a></h4>
        <span>Published on December 30, 2014</span>
      </div><!-- /.list-item -->
    
      <div class="list-item">
        <h4><a href="http://caseywest.com/your-software-is-made-of-people/" title="Your Software Is Made of People">Your Software Is Made of People</a></h4>
        <span>Published on December 24, 2014</span>
      </div><!-- /.list-item -->
    
  </div><!-- /.read-more-list -->
</div><!-- /.read-more -->

  </article>
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <p><span>&copy; 2014 Casey West.</span></p>
<p class="attribution"><span>Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using the <a href="http://mademistakes.com/hpstr/" rel="notfollow">HPSTR Theme</a>.</span>

  </footer>
</div><!-- /.footer-wrapper -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://caseywest.com/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://caseywest.com/assets/js/scripts.min.js"></script>


<!-- Asynchronous Google Analytics snippet -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-57986008-1', 'auto');
  ga('require', 'linkid', 'linkid.js');
  ga('send', 'pageview');
</script>




<script type="text/javascript"
    src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


</body>
</html>
